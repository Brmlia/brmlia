{"ast":null,"code":"import _classCallCheck from \"/Users/ramiroochoa/Desktop/brmlia/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/ramiroochoa/Desktop/brmlia/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/ramiroochoa/Desktop/brmlia/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/ramiroochoa/Desktop/brmlia/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/ramiroochoa/Desktop/brmlia/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _objectSpread from \"/Users/ramiroochoa/Desktop/brmlia/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/ramiroochoa/Desktop/brmlia/src/annotator/index.js\";\nimport React, { Component } from 'react';\nimport Annotation from 'react-image-annotation';\nimport img from '../ui/assets/images/brom.jpeg'; //import three-js from package\n\nimport * as THREE from 'three';\nimport { PointSelector, RectangleSelector, OvalSelector } from 'react-image-annotation/lib/selectors';\n\nvar Box = function Box(_ref) {\n  var children = _ref.children,\n      geometry = _ref.geometry,\n      style = _ref.style;\n  return React.createElement(\"div\", {\n    style: _objectSpread({}, style, {\n      position: 'absolute',\n      left: \"\".concat(geometry.x, \"%\"),\n      top: \"\".concat(geometry.y, \"%\"),\n      height: \"\".concat(geometry.height, \"%\"),\n      width: \"\".concat(geometry.width, \"%\")\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14\n    },\n    __self: this\n  }, children);\n};\n\nvar SimpleAnnotation = /*#__PURE__*/function (_Component) {\n  _inherits(SimpleAnnotation, _Component);\n\n  function SimpleAnnotation() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, SimpleAnnotation);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(SimpleAnnotation)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.start = function () {\n      if (!_this.frameId) {\n        _this.frameId = requestAnimationFrame(_this.animate);\n      }\n    };\n\n    _this.stop = function () {\n      cancelAnimationFrame(_this.frameId);\n    };\n\n    _this.animate = function () {\n      _this.cube.rotation.x += 0.01;\n      _this.cube.rotation.y += 0.01;\n\n      _this.renderScene();\n\n      _this.frameId = window.requestAnimationFrame(_this.animate);\n    };\n\n    _this.renderScene = function () {\n      _this.renderer.render(_this.scene, _this.camera);\n    };\n\n    _this.state = {\n      annotations: [\"d\"],\n      annotation: {}\n    };\n\n    _this.onChange = function (annotation) {\n      _this.setState({\n        annotation: annotation\n      });\n    };\n\n    _this.onSubmit = function (annotation) {\n      var geometry = annotation.geometry,\n          data = annotation.data;\n\n      _this.setState({\n        annotation: {},\n        annotations: _this.state.annotations.concat({\n          geometry: geometry,\n          data: _objectSpread({}, data, {\n            id: Math.random()\n          })\n        })\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(SimpleAnnotation, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var width = this.mount.clientWidth;\n      var height = this.mount.clientHeight; //ADD SCENE\n\n      this.scene = new THREE.Scene(); //ADD CAMERA\n\n      this.camera = new THREE.PerspectiveCamera(75, width / height, 0.1, 1000);\n      this.camera.position.z = 4; //ADD RENDERER\n\n      this.renderer = new THREE.WebGLRenderer({\n        antialias: true\n      });\n      this.renderer.setClearColor('#000000');\n      this.renderer.setSize(width, height);\n      this.mount.appendChild(this.renderer.domElement); //ADD CUBE\n\n      var geometry = new THREE.BoxGeometry(1, 1, 1);\n      var material = new THREE.MeshBasicMaterial({\n        color: '#433F81'\n      });\n      this.cube = new THREE.Mesh(geometry, material);\n      this.scene.add(this.cube);\n      this.start();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.stop();\n      this.mount.removeChild(this.renderer.domElement);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        style: {\n          width: '400px',\n          height: '400px'\n        },\n        ref: function ref(mount) {\n          _this2.mount = mount;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      });\n    } //end three.js\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Annotation, {\n        src: img,\n        alt: \"Two pebbles anthropomorphized holding hands\",\n        annotations: this.state.annotations,\n        type: RectangleSelector.TYPE,\n        value: this.state.annotation,\n        renderHighlight: renderHighlight,\n        onChange: this.onChange,\n        onSubmit: this.onSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return SimpleAnnotation;\n}(Component);\n\nfunction renderHighlight(_ref2) {\n  var annotation = _ref2.annotation,\n      active = _ref2.active;\n  var geometry = annotation.geometry;\n  if (!geometry) return null;\n  return React.createElement(Box, {\n    key: annotation.data.id,\n    geometry: geometry,\n    style: {\n      border: 'solid 2px black',\n      boxShadow: active && '0 0 20px 20px rgba(255, 255, 255, 0.3) inset'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137\n    },\n    __self: this\n  });\n}\n\nexport default SimpleAnnotation;","map":{"version":3,"sources":["/Users/ramiroochoa/Desktop/brmlia/src/annotator/index.js"],"names":["React","Component","Annotation","img","THREE","PointSelector","RectangleSelector","OvalSelector","Box","children","geometry","style","position","left","x","top","y","height","width","SimpleAnnotation","start","frameId","requestAnimationFrame","animate","stop","cancelAnimationFrame","cube","rotation","renderScene","window","renderer","render","scene","camera","state","annotations","annotation","onChange","setState","onSubmit","data","concat","id","Math","random","mount","clientWidth","clientHeight","Scene","PerspectiveCamera","z","WebGLRenderer","antialias","setClearColor","setSize","appendChild","domElement","BoxGeometry","material","MeshBasicMaterial","color","Mesh","add","removeChild","TYPE","renderHighlight","active","border","boxShadow"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,UAAP,MAAuB,wBAAvB;AACA,OAAOC,GAAP,MAAgB,+BAAhB,C,CACA;;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,SACIC,aADJ,EAEIC,iBAFJ,EAGIC,YAHJ,QAIS,sCAJT;;AAOE,IAAMC,GAAG,GAAG,SAANA,GAAM;AAAA,MAAGC,QAAH,QAAGA,QAAH;AAAA,MAAaC,QAAb,QAAaA,QAAb;AAAA,MAAuBC,KAAvB,QAAuBA,KAAvB;AAAA,SACV;AACE,IAAA,KAAK,oBACAA,KADA;AAEHC,MAAAA,QAAQ,EAAE,UAFP;AAGHC,MAAAA,IAAI,YAAKH,QAAQ,CAACI,CAAd,MAHD;AAIHC,MAAAA,GAAG,YAAKL,QAAQ,CAACM,CAAd,MAJA;AAKHC,MAAAA,MAAM,YAAKP,QAAQ,CAACO,MAAd,MALH;AAMHC,MAAAA,KAAK,YAAKR,QAAQ,CAACQ,KAAd;AANF,MADP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAUGT,QAVH,CADU;AAAA,CAAZ;;IAgBIU,gB;;;;;;;;;;;;;;;;UAiCJC,K,GAAQ,YAAM;AACZ,UAAI,CAAC,MAAKC,OAAV,EAAmB;AACjB,cAAKA,OAAL,GAAeC,qBAAqB,CAAC,MAAKC,OAAN,CAApC;AACD;AACF,K;;UACHC,I,GAAO,YAAM;AACTC,MAAAA,oBAAoB,CAAC,MAAKJ,OAAN,CAApB;AACD,K;;UACHE,O,GAAU,YAAM;AACb,YAAKG,IAAL,CAAUC,QAAV,CAAmBb,CAAnB,IAAwB,IAAxB;AACA,YAAKY,IAAL,CAAUC,QAAV,CAAmBX,CAAnB,IAAwB,IAAxB;;AACA,YAAKY,WAAL;;AACA,YAAKP,OAAL,GAAeQ,MAAM,CAACP,qBAAP,CAA6B,MAAKC,OAAlC,CAAf;AACD,K;;UAEDK,W,GAAc,YAAM;AACnB,YAAKE,QAAL,CAAcC,MAAd,CAAqB,MAAKC,KAA1B,EAAiC,MAAKC,MAAtC;AACD,K;;UAWGC,K,GAAQ;AACNC,MAAAA,WAAW,EAAE,CAAC,GAAD,CADP;AAENC,MAAAA,UAAU,EAAE;AAFN,K;;UAKRC,Q,GAAW,UAACD,UAAD,EAAgB;AACzB,YAAKE,QAAL,CAAc;AAAEF,QAAAA,UAAU,EAAVA;AAAF,OAAd;AACD,K;;UAEDG,Q,GAAW,UAACH,UAAD,EAAgB;AAAA,UACjB1B,QADiB,GACE0B,UADF,CACjB1B,QADiB;AAAA,UACP8B,IADO,GACEJ,UADF,CACPI,IADO;;AAGzB,YAAKF,QAAL,CAAc;AACZF,QAAAA,UAAU,EAAE,EADA;AAEZD,QAAAA,WAAW,EAAE,MAAKD,KAAL,CAAWC,WAAX,CAAuBM,MAAvB,CAA8B;AACzC/B,UAAAA,QAAQ,EAARA,QADyC;AAEzC8B,UAAAA,IAAI,oBACCA,IADD;AAEFE,YAAAA,EAAE,EAAEC,IAAI,CAACC,MAAL;AAFF;AAFqC,SAA9B;AAFD,OAAd;AAUD,K;;;;;;;wCAjFe;AAChB,UAAM1B,KAAK,GAAG,KAAK2B,KAAL,CAAWC,WAAzB;AACA,UAAM7B,MAAM,GAAG,KAAK4B,KAAL,CAAWE,YAA1B,CAFgB,CAGhB;;AACA,WAAKf,KAAL,GAAa,IAAI5B,KAAK,CAAC4C,KAAV,EAAb,CAJgB,CAKhB;;AACA,WAAKf,MAAL,GAAc,IAAI7B,KAAK,CAAC6C,iBAAV,CACZ,EADY,EAEZ/B,KAAK,GAAGD,MAFI,EAGZ,GAHY,EAIZ,IAJY,CAAd;AAMA,WAAKgB,MAAL,CAAYrB,QAAZ,CAAqBsC,CAArB,GAAyB,CAAzB,CAZgB,CAahB;;AACA,WAAKpB,QAAL,GAAgB,IAAI1B,KAAK,CAAC+C,aAAV,CAAwB;AAAEC,QAAAA,SAAS,EAAE;AAAb,OAAxB,CAAhB;AACA,WAAKtB,QAAL,CAAcuB,aAAd,CAA4B,SAA5B;AACA,WAAKvB,QAAL,CAAcwB,OAAd,CAAsBpC,KAAtB,EAA6BD,MAA7B;AACA,WAAK4B,KAAL,CAAWU,WAAX,CAAuB,KAAKzB,QAAL,CAAc0B,UAArC,EAjBgB,CAkBhB;;AACA,UAAM9C,QAAQ,GAAG,IAAIN,KAAK,CAACqD,WAAV,CAAsB,CAAtB,EAAyB,CAAzB,EAA4B,CAA5B,CAAjB;AACA,UAAMC,QAAQ,GAAG,IAAItD,KAAK,CAACuD,iBAAV,CAA4B;AAAEC,QAAAA,KAAK,EAAE;AAAT,OAA5B,CAAjB;AACA,WAAKlC,IAAL,GAAY,IAAItB,KAAK,CAACyD,IAAV,CAAenD,QAAf,EAAyBgD,QAAzB,CAAZ;AACA,WAAK1B,KAAL,CAAW8B,GAAX,CAAe,KAAKpC,IAApB;AACJ,WAAKN,KAAL;AACG;;;2CAEqB;AACpB,WAAKI,IAAL;AACA,WAAKqB,KAAL,CAAWkB,WAAX,CAAuB,KAAKjC,QAAL,CAAc0B,UAArC;AACD;;;6BAqBK;AAAA;;AACJ,aACE;AACE,QAAA,KAAK,EAAE;AAAEtC,UAAAA,KAAK,EAAE,OAAT;AAAkBD,UAAAA,MAAM,EAAE;AAA1B,SADT;AAEE,QAAA,GAAG,EAAE,aAAC4B,KAAD,EAAW;AAAE,UAAA,MAAI,CAACA,KAAL,GAAaA,KAAb;AAAoB,SAFxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AAKE,K,CACN;;;;6BA0Bc;AACR,aACI,oBAAC,UAAD;AACE,QAAA,GAAG,EAAE1C,GADP;AAEE,QAAA,GAAG,EAAC,6CAFN;AAIE,QAAA,WAAW,EAAE,KAAK+B,KAAL,CAAWC,WAJ1B;AAME,QAAA,IAAI,EAAE7B,iBAAiB,CAAC0D,IAN1B;AAOE,QAAA,KAAK,EAAE,KAAK9B,KAAL,CAAWE,UAPpB;AAQE,QAAA,eAAe,EAAE6B,eARnB;AASE,QAAA,QAAQ,EAAE,KAAK5B,QATjB;AAUE,QAAA,QAAQ,EAAE,KAAKE,QAVjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ;AAcD;;;;EApG0BtC,S;;AAuG7B,SAASgE,eAAT,QAAkD;AAAA,MAAtB7B,UAAsB,SAAtBA,UAAsB;AAAA,MAAV8B,MAAU,SAAVA,MAAU;AAAA,MACxCxD,QADwC,GAC3B0B,UAD2B,CACxC1B,QADwC;AAEhD,MAAI,CAACA,QAAL,EAAe,OAAO,IAAP;AAEf,SACE,oBAAC,GAAD;AACE,IAAA,GAAG,EAAE0B,UAAU,CAACI,IAAX,CAAgBE,EADvB;AAEE,IAAA,QAAQ,EAAEhC,QAFZ;AAGE,IAAA,KAAK,EAAE;AACLyD,MAAAA,MAAM,EAAE,iBADH;AAELC,MAAAA,SAAS,EAAEF,MAAM,IACZ;AAHA,KAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF;AAYD;;AAED,eAAe/C,gBAAf","sourcesContent":["import React, { Component } from 'react';\nimport Annotation from 'react-image-annotation';\nimport img from '../ui/assets/images/brom.jpeg';\n//import three-js from package\nimport * as THREE from 'three';\nimport {\n    PointSelector,\n    RectangleSelector,\n    OvalSelector\n  } from 'react-image-annotation/lib/selectors';\n\n\n  const Box = ({ children, geometry, style }) => (\n    <div\n      style={{\n        ...style,\n        position: 'absolute',\n        left: `${geometry.x}%`,\n        top: `${geometry.y}%`,\n        height: `${geometry.height}%`,\n        width: `${geometry.width}%`,\n      }}\n    >\n      {children}\n    </div>\n  )\n\n\nclass SimpleAnnotation extends Component {\n\n\tcomponentDidMount(){\n    const width = this.mount.clientWidth\n    const height = this.mount.clientHeight\n    //ADD SCENE\n    this.scene = new THREE.Scene()\n    //ADD CAMERA\n    this.camera = new THREE.PerspectiveCamera(\n      75,\n      width / height,\n      0.1,\n      1000\n    )\n    this.camera.position.z = 4\n    //ADD RENDERER\n    this.renderer = new THREE.WebGLRenderer({ antialias: true })\n    this.renderer.setClearColor('#000000')\n    this.renderer.setSize(width, height)\n    this.mount.appendChild(this.renderer.domElement)\n    //ADD CUBE\n    const geometry = new THREE.BoxGeometry(1, 1, 1)\n    const material = new THREE.MeshBasicMaterial({ color: '#433F81'     })\n    this.cube = new THREE.Mesh(geometry, material)\n    this.scene.add(this.cube)\nthis.start()\n  }\n\n  componentWillUnmount(){\n    this.stop()\n    this.mount.removeChild(this.renderer.domElement)\n  }\n\n  start = () => {\n    if (!this.frameId) {\n      this.frameId = requestAnimationFrame(this.animate)\n    }\n  }\nstop = () => {\n    cancelAnimationFrame(this.frameId)\n  }\nanimate = () => {\n   this.cube.rotation.x += 0.01\n   this.cube.rotation.y += 0.01\n   this.renderScene()\n   this.frameId = window.requestAnimationFrame(this.animate)\n }\n\n renderScene = () => {\n  this.renderer.render(this.scene, this.camera)\n}\n\nrender(){\n    return(\n      <div\n        style={{ width: '400px', height: '400px' }}\n        ref={(mount) => { this.mount = mount }}\n      />\n    )}\n//end three.js\n\n    state = {\n      annotations: [\"d\"],\n      annotation: {}\n    }\n  \n    onChange = (annotation) => {\n      this.setState({ annotation })\n    }\n  \n    onSubmit = (annotation) => {\n      const { geometry, data } = annotation\n  \n      this.setState({\n        annotation: {},\n        annotations: this.state.annotations.concat({\n          geometry,\n          data: {\n            ...data,\n            id: Math.random()\n          }\n        })\n      })\n    }\n  \n    render () {\n      return (\n          <Annotation\n            src={img}\n            alt='Two pebbles anthropomorphized holding hands'\n  \n            annotations={this.state.annotations}\n  \n            type={RectangleSelector.TYPE}\n            value={this.state.annotation}\n            renderHighlight={renderHighlight}\n            onChange={this.onChange}\n            onSubmit={this.onSubmit}\n          />\n      )\n    }\n  }\n\n  function renderHighlight ({ annotation, active }) {\n    const { geometry } = annotation\n    if (!geometry) return null\n  \n    return (\n      <Box\n        key={annotation.data.id}\n        geometry={geometry}\n        style={{\n          border: 'solid 2px black',\n          boxShadow: active\n            && '0 0 20px 20px rgba(255, 255, 255, 0.3) inset'\n        }}\n      >\n      </Box>\n    )\n  }\n\n  export default SimpleAnnotation"]},"metadata":{},"sourceType":"module"}