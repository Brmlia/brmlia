{"version":3,"sources":["ui/assets/images/brom.jpeg","ui/style.js","style.js","mainSettings.js","fileuploader/fileStore.js","imagecanvas/ImageStore.js","utils/index.js","ui/components/zoom/zoomSettings.js","ui/components/zoom/zpp.js","ui/components/slider.js","ui/components/zoom/zoomControl.js","ui/components/zoom/zoom.js","viewer/index.js","imagecanvas/Mesh.js","imagecanvas/canvasStore.js","annotator/annotationStore.js","annotator/annotationControl.js","annotator/annotationMenuOptions.js","annotator/editControl.js","annotator/annotationSettings.js","annotator/annotationSubMenu.js","annotator/annotationMenu.js","ui/components/FabricLayer.js","ui/components/mainViewer.js","ui/components/axesViewer.js","imagecanvas/CanvasControl.js","imagecanvas/ImageCanvas.js","ui/components/channel.js","ui/components/channelViewer.js","ui/components/annotatorViewer.js","ui/components/thumbnails.js","annotator/annotStore.js","annotator/importer.js","fileuploader/fileControl.js","fileuploader/index.js","annotator/exporter.js","ui/components/menus.js","annotator/index.js","ui/index.js","index.js"],"names":["module","exports","mainStyle","overflowY","overflowX","height","width","position","rowStyle","flex","cardStyle","buttonGroup","size","vertical","padding","container","fluid","maxWidth","card","justify","alignContent","alignItems","textAlign","fontSize","cardBody","mainImg","axesImg","canvasStyle1","zIndex","marginLeft","opacity","canvasStyle2","canvasStyle3","canvasThumbnail","thumb","display","borderRadius","border","marginBottom","marginRight","boxSizing","thumbInner","minWidth","overflow","initState","channels","selected","lastSelected","dev","create","set","settingsApi","prodState","file","devState","name","image","require","style","type","getState","fileApi","createTexture","THREE","load","createTextureFromTiff","uniforms","brightness","value","contrast","whitepoint","blackpoint","texture","update","state","uniApi","fApi","uApi","zoomState","views","zoomPct","zoomZppPct","reset","last","useZoomApi","zpp","limitToBounds","panningEnabled","transformEnabled","pinchEnabled","limitToWrapper","disabled","dbClickEnabled","lockAxisX","lockAxisY","velocityEqualToMove","enableWheel","enableTouchPadPinch","enableVelocity","limitsOnWheel","minScale","maxScale","step","updated","scale","x","y","Zpp","props","subscribe","length","className","defaultScale","defaultPositionX","defaultPositionY","positionX","positionY","options","pan","velocity","pinch","doubleClick","wheel","wheelEnabled","touchPadEnabled","zoomIn","zoomOut","resetTransform","setDefaultState","previousScale","updateXY","Fragment","imageWidth","src","alt","view","img","Number","toFixed","Slider","Component","constructor","super","initSlider","initial","min","max","handleSliderChange","e","persist","slider","this","target","setState","updateStatus","notifyValue","setSlider","sync","componentDidUpdate","status","sliderValue","displayValue","raw","Math","round","multiplier","render","label","id","onChange","updateZoom","idx","prevState","map","vw","j","parseInt","newView","newReset","Zoom","bind","onClick","Viewer","zoom","init","api","forceUpdate","zppZoom","withFileStore","Mesh","ref","useRef","material","useMemo","channel","useFrame","current","attach","args","fragmentShader","vertexShader","meshState","mesh","canvasState","canvas","canvasApi","annotations","cachedState","cachedAnnots","annotApi","cachedAnnotApi","addAnnotation","rect","classLabel","class","deleteAnnotation","index","annotation","splice","getLastAnnotIdx","updateAnnotationLabel","oldLabel","annot","newAnnot","editAnnotationLabel","object","ungroup","objs","_objects","i","text","getCanvas","renderAll","regroup","updateLabel","getSelectedObjects","updateSelect","editAnnotationClass","updateClassLabel","menu","displayon","coords","items","setDisplay","objects","select","AnnotationMenuApi","sel","colors","drawRect","fRect","fabric","Rect","left","top","fill","stroke","strokeLineJoin","strokeWidth","objectCaching","group","Group","IText","originX","originY","fontFamily","fontWeight","textBackgroundColor","classText","perPixelTargetFind","add","setActiveObject","addWithUpdate","_restoreObjectsState","remove","item","hasControls","markGroupVisible","markVisible","markGroupInvisible","obj","visible","dirty","undo","getObjects","o","redo","cachedAnnot","deleteCachedAnnotation","AnnotationSubMenu","React","handleChange","changeLabel","changeClassLabel","button","componentDidMount","labelTop","match","buttonLeft","event","newStr","AnnotationMenu","contextRef","createRef","returnMenu","on","updateCoords","updateItems","updateDisplay","arr","key","callback","modes","FabricLayer","canvasRef","mousedown","mousex","mousey","canvasx","canvasy","mode","handleMouseDown","handleMouseUp","handleMouseDoubleClick","handleDrag","selectClass1","showAll","showAllClasses","Canvas","fireRightClick","setMode","newMode","isDrawingMode","handleObjectSelect","setOrigin","mouseEvt","lastMousex","clientX","lastMousey","clientY","setNewCoordinates","canvasLeft","_offset","canvasRight","canvasTop","canvasBottom","handleLeftMouseDown","handleRightMouseDown","handleLeftMouseUp","handleRightMouseUp","getActiveObjects","handleObjectResize","displayMenu","class_element","filterAnnotations","annots","onContextMenu","preventDefault","mainViewer","altView","Card","CardBody","CardTitle","channelViews","view1","view2","view3","console","log","AxesViewer","isValidChannel","updateImage","blob","prevStateCh","imagepath","ch","newChannel","updateUniformImage","updateBrightness","updateUniformBrightness","updateContrast","updateUniformContrast","updateWhitepoint","updateUniformWhitepoint","updateBlackpoint","updateUniformBlackpoint","ImageCanvas","updateForFile","updateForControls","Channel","updateSelection","updateLastSel","sliderValueBr","sliderValueCt","sliderValueWp","sliderValueBp","resetBrightness","resetContrast","resetWhitepoint","resetBlackpoint","Button","outline","color","active","UncontrolledCollapse","toggler","ChannelViewer","AnnotatorViewer","annot1Sel","annot2Sel","annot3Sel","annot4Sel","Thumbnails","allThumbs","elements","push","setSelected","img_name","importCsv","reader","FileReader","onload","fileAsBinaryString","result","csv","noheader","output","fromString","then","csvRows","toJson","forEach","aCsvRow","builtObject","Object","keys","aKey","valueToAddInBuiltObject","keyToAddInBuiltObject","saveJson","onabort","onerror","readAsText","importJson","json","JSON","parse","importTiff","debug","preview","Image","newFile","toDataURL","updateTiff","catch","error","parseTiff","onloadend","onprogress","readAsArrayBuffer","isAnnotValid","f","concat","addJsonAnnot","addFile","addPng","addTiff","addCsv","addJson","initFile","initPng","initTiff","initCsv","initJson","FileUpload","useState","files","setFiles","useDropzone","accept","onDrop","acceptedFiles","assign","URL","createObjectURL","getRootProps","getInputProps","validFile","filter","isValidFile","useEffect","revokeObjectURL","exportJson","element","document","createElement","Blob","stringify","href","download","body","appendChild","click","Menus","ButtonGroup","UncontrolledButtonDropdown","DropdownToggle","caret","DropdownMenu","DropdownItem","InputGroup","Input","placeholder","InputGroupAddon","addonType","Annotator","file_size","UI","Container","Row","Col","xs","Application","rootElement","getElementById","ReactDOM"],"mappings":"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","file":"static/js/main.ba8c5a99.chunk.js","sourcesContent":["module.exports = \"data:image/jpeg;base64,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\"","export const mainStyle = {\n  overflowY: 'scroll',\n  overflowX: 'scroll',\n  height: '100%',\n  width: '100%',\n  // height: '500px',\n  // width: '900px',\n  position: 'relative',\n};\nexport const containerStyle = {\n  width: '900px',\n  marginLeft: 0,\n};\nexport const rowStyle = {\n  flex: 1.0,\n  position: 'relative',\n};\nexport const cardStyle = {\n  flex: 0.1,\n  position: 'relative',\n};\n\nexport const buttonGroup = {\n  size: 'sm',\n  vertical: false,\n  flex: 1.0,\n  padding: 15,\n};\n\nexport const mainView = {\n  flex: 1,\n  flexDirection: 'column',\n  justifyContent: 'center',\n  maxWidth: '20%',\n};\n\nexport const innerView = {\n  flex: 0.8,\n  flexDirection: 'row',\n};\n\nexport const container = {\n  fluid: true,\n  maxWidth: '100%',\n};\n\nexport const row = {\n  noGutters: false,\n  form: false,\n  xs: '2',\n};\n\nexport const col = {\n  xs: '2',\n};\n\nexport const card = {\n  justify: 'center',\n  alignContent: 'center',\n  alignItems: 'center',\n  textAlign: 'center',\n  width: '100%',\n  fluid: true,\n  fontSize: '12px',\n};\n\nexport const cardBody = {\n  width: '85%',\n  height: '100%',\n};\n\nexport const mainImg = {\n  width: '100%',\n};\n\nexport const axesImg = {\n  width: '100%',\n};\n\nexport const canvasStyle1 = {\n  position: 'absolute',\n  height: '300px',\n  width: '300px',\n  zIndex: '3',\n  marginLeft: '100px',\n  opacity: '0.5',\n};\nexport const canvasStyle2 = {\n  position: 'absolute',\n  height: '300px',\n  width: '300px',\n  zIndex: '5',\n  marginLeft: '50px',\n  opacity: '0.5',\n};\nexport const canvasStyle3 = {\n  position: 'absolute',\n  height: '300px',\n  width: '300px',\n  zIndex: '7',\n  opacity: '0.5',\n};\n\nexport const canvasThumbnail = {\n  position: 'center',\n  height: '100px',\n  width: '88px',\n  zIndex: '3',\n};\n\nexport const thumbsContainer = {\n  display: 'flex',\n  flexDirection: 'row',\n  flexWrap: 'wrap',\n  marginTop: 16,\n};\n\nexport const thumb = {\n  display: 'inline-flex',\n  borderRadius: 2,\n  border: '1px solid #eaeaea',\n  marginBottom: 8,\n  marginRight: 8,\n  width: 50,\n  height: 50,\n  padding: 4,\n  boxSizing: 'border-box',\n};\n\nexport const thumbInner = {\n  display: 'flex',\n  minWidth: 0,\n  overflow: 'hidden',\n};\n","export const mainStyle = {\n  overflowY: 'scroll',\n  overflowX: 'scroll',\n  height: '100%',\n  width: '100%',\n  // height: '500px',\n  // width: '900px',\n  position: 'relative',\n};\nexport const containerStyle = {\n  width: '900px',\n  marginLeft: 0,\n};\nexport const rowStyle = {\n  flex: 1.0,\n  position: 'relative',\n};\nexport const cardStyle = {\n  flex: 0.1,\n  position: 'relative',\n};\n\nexport const buttonGroup = {\n  size: 'sm',\n  vertical: false,\n  flex: 1.0,\n  padding: 15,\n};\n\nexport const mainView = {\n  flex: 1,\n  flexDirection: 'column',\n  justifyContent: 'center',\n  maxWidth: '20%',\n};\n\nexport const innerView = {\n  flex: 0.8,\n  flexDirection: 'row',\n};\n\nexport const container = {\n  fluid: true,\n  maxWidth: '100%',\n};\n\nexport const row = {\n  noGutters: false,\n  form: false,\n  xs: '2',\n};\n\nexport const col = {\n  xs: '2',\n};\n\nexport const card = {\n  justify: 'center',\n  alignContent: 'center',\n  alignItems: 'center',\n  textAlign: 'center',\n  width: '100%',\n  fluid: true,\n  fontSize: '12px',\n};\n\nexport const cardBody = {\n  width: '85%',\n  height: '100%',\n};\n\nexport const mainImg = {\n  width: '100%',\n};\n\nexport const axesImg = {\n  width: '100%',\n};\n\nexport const canvasStyle1 = {\n  position: 'absolute',\n  height: '300px',\n  width: '300px',\n  zIndex: '3',\n  marginLeft: '100px',\n  opacity: '0.5',\n};\nexport const canvasStyle2 = {\n  position: 'absolute',\n  height: '300px',\n  width: '300px',\n  zIndex: '5',\n  marginLeft: '50px',\n  opacity: '0.5',\n};\nexport const canvasStyle3 = {\n  position: 'absolute',\n  height: '300px',\n  width: '300px',\n  zIndex: '7',\n  opacity: '0.5',\n};\n\nexport const canvasThumbnail = {\n  position: 'center',\n  height: '100px',\n  width: '88px',\n  zIndex: '3',\n};\n\nexport const thumbsContainer = {\n  display: 'flex',\n  flexDirection: 'row',\n  flexWrap: 'wrap',\n  marginTop: 16,\n};\n\nexport const thumb = {\n  display: 'inline-flex',\n  borderRadius: 2,\n  border: '1px solid #eaeaea',\n  marginBottom: 8,\n  marginRight: 8,\n  width: 50,\n  height: 50,\n  padding: 4,\n  boxSizing: 'border-box',\n};\n\nexport const thumbInner = {\n  display: 'flex',\n  minWidth: 0,\n  overflow: 'hidden',\n};\n","import create from 'zustand';\nimport React from 'react';\nimport Viewer from './viewer/index.js';\nimport { mainImg } from './style.js';\n\nexport const initState = {\n  channels: [\n    {\n      selected: false,\n    },\n    {\n      selected: false,\n    },\n    {\n      selected: false,\n    },\n  ],\n  lastSelected: 1,\n  dev: 0,\n};\n\nexport const [useMainSettings, settingsApi] = create(set => ({\n  ...initState,\n}));\n\nexport function updateChannelSel(channel) {\n  settingsApi.setState(prevState => {\n    const channels = prevState.channels.map((ch, j) => {\n      if (j === channel - 1) {\n        var newChannel = ch;\n        newChannel.selected = !prevState.channels[j].selected;\n        return newChannel;\n      } else {\n        return ch;\n      }\n    });\n    return {\n      channels,\n    };\n  });\n}\n\nexport function updateLastSel(channel) {\n  settingsApi.setState(prevState => ({\n    ...prevState,\n    lastSelected: channel,\n  }));\n}\n","import create from 'zustand';\nimport { settingsApi } from '../mainSettings.js';\n\nexport const initState = () => {\n  return settingsApi.getState().dev ? devState : prodState;\n};\n\nexport const prodState = {\n  file: [],\n  size: 0,\n  selected: 0,\n};\n\nexport const devState = {\n  file: [\n    {\n      name: 'brom.jpeg',\n      image: require('./../ui/assets/images/brom.jpeg'),\n      style: {\n        display: 'block',\n        width: 'auto',\n        height: '100%',\n      },\n      type: 'image/png',\n    },\n  ],\n  size: 1,\n  selected: 0,\n};\n\nexport const [useFileStore, fileApi] = create(set => ({\n  ...initState(),\n}));\n","import create from 'zustand';\nimport * as THREE from 'three';\n\nexport const createTexture = image => {\n  return new THREE.TextureLoader().load(image);\n};\n\nexport const createTextureFromTiff = image => {\n  return new THREE.TextureLoader().load(image);\n};\n\nconst initState = {\n  channels: [\n    {\n      uniforms: {\n        brightness: {\n          value: '0.0',\n        },\n        contrast: {\n          value: '0.0',\n        },\n        whitepoint: {\n          value: '255.0',\n        },\n        blackpoint: {\n          value: '0.0',\n        },\n        image: {\n          value: '',\n        },\n      },\n      texture: null,\n      name: '',\n      type: '',\n    },\n    {\n      uniforms: {\n        brightness: {\n          value: '0.0',\n        },\n        contrast: {\n          value: '0.0',\n        },\n        whitepoint: {\n          value: '235.0',\n        },\n        blackpoint: {\n          value: '16.0',\n        },\n        image: {\n          value: '',\n        },\n      },\n      texture: null,\n      name: '',\n      type: '',\n    },\n    {\n      uniforms: {\n        brightness: {\n          value: '0.0',\n        },\n        contrast: {\n          value: '0.0',\n        },\n        whitepoint: {\n          value: '235.0',\n        },\n        blackpoint: {\n          value: '16.0',\n        },\n        image: {\n          value: '',\n        },\n      },\n      texture: null,\n      name: '',\n      type: '',\n    },\n  ],\n};\n\nexport const [useUniformStore, uniApi] = create(set => ({\n  ...initState,\n  update: (brightness, contrast, whitepoint, blackpoint, image) =>\n    set(state => ({\n      ...state,\n      uniforms: {\n        ...state.uniforms,\n        brightness: {\n          ...state.uniforms.brightness,\n          value: brightness,\n        },\n        contrast: {\n          ...state.uniforms.contrast,\n          value: contrast,\n        },\n        whitepoint: {\n          ...state.uniforms.whitepoint,\n          value: whitepoint,\n        },\n        blackpoint: {\n          ...state.uniforms.blackpoint,\n          value: blackpoint,\n        },\n        image: {\n          ...state.uniforms.image,\n        },\n      },\n      texture: image,\n      brightness: brightness,\n    })),\n}));\n","import React from 'react';\n\nimport { fileApi } from '../fileuploader/fileStore.js';\nimport { uniApi } from '../imagecanvas/ImageStore.js';\n\nexport const fApi = fileApi;\nexport const uApi = uniApi;\n\nexport const withFileStore = (Component: any) => {\n  return (props: any) => {\n    return <Component api={fApi} {...props} />;\n  };\n};\n\nexport const withUniformStore = (Component: any) => {\n  return (props: any) => {\n    return <Component api={uApi} {...props} />;\n  };\n};\n\nexport const withStore = (Component: any) => {\n  return (props: any) => {\n    return <Component uApi={uApi} fApi={fApi} {...props} />;\n  };\n};\n","import create from 'zustand';\n\nexport const zoomState = {\n  views: [\n    {\n      name: 'main',\n      zoomPct: '1',\n      zoomZppPct: '1',\n      reset: '0',\n    },\n    {\n      name: 'xy',\n      zoomPct: '1',\n      zoomZppPct: '1',\n      reset: '0',\n    },\n    {\n      name: 'yz',\n      zoomPct: '1',\n      zoomZppPct: '1',\n      reset: '0',\n    },\n    {\n      name: 'xz',\n      zoomPct: '1',\n      zoomZppPct: '1',\n      reset: '0',\n    },\n  ],\n  last: '0',\n};\n\nexport const [useZoomStore, useZoomApi] = create(set => ({\n  ...zoomState,\n}));\n","import React from 'react';\n\nimport { TransformWrapper, TransformComponent } from 'react-zoom-pan-pinch';\nimport { useZoomApi } from './zoomSettings.js';\n// import { updateZppZoom } from \"./zoomControl.js\";\n\nvar state = {\n  zpp: {\n    type: true,\n    limitToBounds: true,\n    panningEnabled: true,\n    transformEnabled: true,\n    pinchEnabled: false,\n    limitToWrapper: false,\n    disabled: false,\n    dbClickEnabled: true,\n    lockAxisX: false,\n    lockAxisY: false,\n    velocityEqualToMove: true,\n    enableWheel: true,\n    enableTouchPadPinch: false,\n    enableVelocity: true,\n    limitsOnWheel: false,\n    minScale: 0.5,\n    maxScale: 8,\n    step: 10,\n    updated: false,\n    scale: 1,\n    x: 0,\n    y: 0,\n  },\n  zoomPct: 100,\n};\n\nfunction updateZoomValue(value, idx) {\n  if (state.zoomPct !== value) {\n    state.zoomPct = value;\n    // updateZppZoom(value, idx)\n  }\n}\n\nfunction updateZppZoomValue(value, idx) {\n  if (state.zoomPct !== value) {\n    state.zoomPct = value;\n  }\n}\n\nfunction updateXY(x, y) {\n  if (state.zpp.x !== x) {\n    state.zpp.x = x;\n  }\n  if (state.zpp.y !== y) {\n    state.zpp.y = y;\n  }\n}\n\nfunction reset() {\n  state.zpp.x = 0;\n  state.zpp.y = 0;\n}\n\nfunction view(image, imageWidth) {\n  if (image !== '') {\n    return <img src={image} alt=\"viewer\" width={imageWidth} />;\n  }\n}\n\nfunction Zpp(props) {\n  const {\n    limitToBounds,\n    panningEnabled,\n    transformEnabled,\n    pinchEnabled,\n    limitToWrapper,\n    disabled,\n    dbClickEnabled,\n    lockAxisX,\n    lockAxisY,\n    velocityEqualToMove,\n    enableWheel,\n    enableTouchPadPinch,\n    enableVelocity,\n    limitsOnWheel,\n    minScale,\n    maxScale,\n    step,\n    x,\n    y,\n  } = state.zpp;\n\n  useZoomApi.subscribe(state => {\n    if (\n      state &&\n      state.views &&\n      props.type >= 0 &&\n      props.type < state.views.length\n    ) {\n      updateZppZoomValue(state.views[props.type].zoomPct, props.type);\n    }\n\n    if (state.views[props.type].reset) reset();\n  });\n\n  return (\n    <div className=\"transform-wrapper\">\n      <TransformWrapper\n        defaultScale={1}\n        defaultPositionX={0}\n        defaultPositionY={0}\n        positionX={x}\n        positionY={y}\n        scale={state.zoomPct / 100}\n        options={{\n          limitToBounds,\n          transformEnabled,\n          disabled,\n          limitToWrapper,\n          minScale,\n          maxScale,\n        }}\n        pan={{\n          disabled: !panningEnabled,\n          lockAxisX,\n          lockAxisY,\n          velocityEqualToMove,\n          velocity: enableVelocity,\n        }}\n        pinch={{ disabled: !pinchEnabled }}\n        doubleClick={{ disabled: !dbClickEnabled }}\n        wheel={{\n          wheelEnabled: enableWheel,\n          touchPadEnabled: enableTouchPadPinch,\n          limitsOnWheel,\n          step: step,\n        }}\n      >\n        {({\n          zoomIn,\n          zoomOut,\n          resetTransform,\n          setDefaultState,\n          positionX,\n          positionY,\n          scale,\n          previousScale,\n          options: { limitToBounds, transformEnabled, disabled },\n          ...rest\n        }) => (\n          <div>\n            {updateZoomValue(scale * 100, props.type)}\n            {updateXY(positionX, positionY)}\n            <React.Fragment>\n              <TransformComponent>\n                {view(props.img, props.imageWidth)}\n              </TransformComponent>\n              <span className=\"badge badge-primary\">\n                x : {Number(positionX).toFixed(0)}px\n              </span>\n              <span className=\"badge badge-primary\">\n                y : {Number(positionY).toFixed(0)}px\n              </span>\n              <span className=\"badge badge-primary\">\n                Scale : {Number(scale * 100).toFixed(0)}%\n              </span>\n            </React.Fragment>\n          </div>\n        )}\n      </TransformWrapper>\n    </div>\n  );\n}\n\nexport default Zpp;\n","import React, { Component } from 'react';\nimport './../styles.css';\nimport { useZoomApi } from './zoom/zoomSettings.js';\n\nclass Slider extends Component {\n  initSlider = {\n    initial: 0,\n    min: 0,\n    max: 0,\n    step: 0,\n    value: 0,\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      updated: false,\n      slider: this.initSlider,\n      setSlider: null,\n      sync: true,\n    };\n  }\n\n  componentDidUpdate() {\n    if (this.state.updated) {\n      return true;\n    }\n    return false;\n  }\n\n  updateStatus(status) {\n    let updated = true;\n    this.setState({ updated: updated });\n  }\n\n  notifyValue() {\n    var sliderValue = this.props.sliderValue;\n    const type = this.props.type;\n    sliderValue(this.state.slider.value, type);\n  }\n\n  displayValue() {\n    if (this.props.raw === '1') {\n      return (\n        <span>\n          {' '}\n          {Math.round(this.state.slider.value * this.props.multiplier)}\n        </span>\n      );\n    } else {\n      return (\n        <span>\n          {' '}\n          {Math.round(this.state.slider.value * this.props.multiplier)}%\n        </span>\n      );\n    }\n  }\n\n  handleSliderChange = e => {\n    e.persist();\n\n    let slider = this.state.slider;\n    slider.value = e.target.value;\n    this.setState({ slider: slider });\n\n    this.updateStatus(true);\n    this.notifyValue();\n  };\n\n  render() {\n    useZoomApi.subscribe(state => {\n      if (this.props.type >= 0 && this.props.type < state.views.length) {\n        let slider = this.state.slider;\n        slider.value = state.views[this.props.type].zoomPct;\n        this.setState({ slider: slider });\n      }\n    });\n\n    const slider = this.state.slider;\n    const { label, min, max, initial, step } = this.props;\n\n    return (\n      <div className=\"slider-settings\">\n        <span>{label}</span> <br></br>\n        <span>{min} </span>\n        <input\n          type=\"range\"\n          className=\"slider\"\n          value={slider.value || initial}\n          id=\"customRange1\"\n          initial={initial}\n          min={min}\n          max={max}\n          step={step}\n          onChange={e => this.handleSliderChange(e)}\n        />\n        <span> {max}</span>\n        <span> {this.displayValue()}</span>\n      </div>\n    );\n  }\n}\n\nexport default Slider;\n","import { useZoomApi } from './zoomSettings.js';\n\nexport function updateZoom(value, idx, reset) {\n  const currZoom = useZoomApi.getState().views[idx].zoomPct;\n\n  if (currZoom !== value || reset) {\n    useZoomApi.setState(prevState => {\n      const views = prevState.views.map((vw, j) => {\n        if (j === parseInt(idx)) {\n          var newView = vw;\n          var newReset = 0;\n          if (reset) {\n            newReset = 1;\n          }\n          newView.zoomPct = value;\n          newView.reset = newReset;\n          return newView;\n        } else {\n          return vw;\n        }\n      });\n      return {\n        views,\n      };\n    });\n\n    useZoomApi.setState(prevState => ({\n      ...prevState,\n      last: idx,\n    }));\n  }\n}\n\nexport function updateZppZoom(value, idx) {\n  const currZoom = useZoomApi.getState().views[idx].zoomZppPct;\n\n  if (currZoom !== value) {\n    useZoomApi.setState(prevState => {\n      const views = prevState.views.map((vw, j) => {\n        if (j === parseInt(idx)) {\n          var newView = vw;\n          newView.zoomZppPct = value;\n          return newView;\n        } else {\n          return vw;\n        }\n      });\n      return {\n        views,\n      };\n    });\n  }\n}\n","import React from 'react';\n\nimport Slider from '../slider.js';\n\nimport { useZoomApi } from './zoomSettings.js';\nimport { updateZoom } from './zoomControl.js';\n\nvar state = {\n  zoomPct: 100,\n};\n\nfunction resetZoom(idx) {\n  updateZoom('100', idx, true);\n}\n\nfunction updateZoomView(idx, value) {\n  if (state.zoomPct !== value) {\n    // updateZoom(value, idx);\n  }\n}\n\nfunction Zoom(props) {\n  useZoomApi.subscribe(state => {\n    if (\n      state &&\n      state.views &&\n      props.type >= 0 &&\n      props.type < state.views.length\n    ) {\n      updateZoomView(props.type, state.views[props.type].zoomZppPct);\n    }\n  });\n\n  return (\n    <div className=\"viewer-wrapper\">\n      <Slider\n        label=\"Zoom\"\n        width=\"40%\"\n        min=\"50\"\n        max=\"800\"\n        step=\"10\"\n        initial={state.zoomPct}\n        multiplier=\"1\"\n        sliderValue={updateZoom.bind(this)}\n        type={props.type}\n      />\n      <button\n        id=\"resetZoomBtn\"\n        onClick={() => {\n          resetZoom(props.type);\n        }}\n      >\n        Reset Zoom\n      </button>\n    </div>\n  );\n}\n\nexport default Zoom;\n","import React, { Component } from 'react';\nimport { withFileStore } from '../utils/index.js';\nimport '../styles.css';\n\nimport Zpp from '../ui/components/zoom/zpp.js';\nimport Zoom from '../ui/components/zoom/zoom.js';\nimport { useZoomApi } from '../ui/components/zoom/zoomSettings.js';\nimport { settingsApi } from '../mainSettings.js';\n\nclass Viewer extends Component {\n  state = {\n    image: '',\n    zoom: 0,\n  };\n\n  init() {\n    if (this.state.image === '') {\n      if (this.props.api.getState().file.length > 0) {\n        this.setState({\n          image: this.props.api.getState().file[\n            this.props.api.getState().selected\n          ].image,\n        });\n      }\n    }\n  }\n\n  render() {\n    this.init();\n    this.props.api.subscribe(state => {\n      if (state) {\n        const img = state.file[state.selected].image;\n        if (img) {\n          this.setState({\n            image: img,\n          });\n          this.forceUpdate();\n        }\n      }\n    });\n    useZoomApi.subscribe(state => {\n      const zoom = state.views[this.props.type].zoomPct;\n      const zppZoom = state.views[this.props.type].zoomZppPct;\n\n      if (\n        (this.state.zoom !== zoom || this.state.zoom !== zppZoom) &&\n        this.props.type === state.last\n      ) {\n        this.setState(prevState => ({\n          zoom: zoom,\n        }));\n      }\n    });\n\n    return (\n      <div className=\"viewer-wrapper\">\n        <Zpp\n          type={this.props.type}\n          img={this.state.image}\n          imageWidth={this.props.imageWidth}\n        />\n        <Zoom type={this.props.type} />\n      </div>\n    );\n  }\n}\n\nexport default withFileStore(Viewer);\n","import React, { useRef, useMemo } from 'react';\nimport { uApi } from '../utils/index.js';\nimport { useFrame } from 'react-three-fiber';\n\nconst fragmentShader = `\n  uniform sampler2D image;\n\n  uniform float brightness;\n  uniform float contrast;\n\n  uniform float blackpoint;\n  uniform float whitepoint;\n\n  varying vec2 vUv;\n\n  void main() {\n    gl_FragColor = texture2D(image, vUv);\n    gl_FragColor.rgb += brightness;\n\n    if (contrast > 0.0) {\n      gl_FragColor.rgb = (gl_FragColor.rgb - 0.5) / (1.0 - contrast) + 0.5;\n    } else {\n      gl_FragColor.rgb = (gl_FragColor.rgb - 0.5) * (1.0 + contrast) + 0.5;\n    }\n\n    float black_point = blackpoint / 255.0;\n    float white_point = blackpoint == whitepoint ? (255.0 / 0.00025) : (255.0 / (whitepoint - blackpoint));\n\n    gl_FragColor.rgb = gl_FragColor.rgb * white_point - (white_point * black_point);\n  }\n`;\n\nconst vertexShader = `\n  varying vec2 vUv;\n\n  void main() {\n    vUv = uv;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n  }\n`;\n\nfunction Mesh(props) {\n  const ref = useRef();\n  const material = useRef();\n\n  var uniforms = useMemo(\n    () => uApi.getState().channels[props.channel - 1].uniforms,\n    [props]\n  );\n\n  useFrame(state => {\n    material.current.uniforms.brightness.value = uApi.getState().channels[\n      props.channel - 1\n    ].uniforms.brightness.value;\n    material.current.uniforms.contrast.value = uApi.getState().channels[\n      props.channel - 1\n    ].uniforms.contrast.value;\n    material.current.uniforms.whitepoint.value = uApi.getState().channels[\n      props.channel - 1\n    ].uniforms.whitepoint.value;\n    material.current.uniforms.blackpoint.value = uApi.getState().channels[\n      props.channel - 1\n    ].uniforms.blackpoint.value;\n    material.current.uniforms.image.value = uApi.getState().channels[\n      props.channel - 1\n    ].uniforms.image.value;\n  });\n\n  return (\n    <mesh ref={ref} scale={[1.0, 1.0, 1.0]}>\n      <planeBufferGeometry attach=\"geometry\" args={[5.0, 5.0]} />\n      <shaderMaterial\n        attach=\"material\"\n        ref={material}\n        fragmentShader={fragmentShader}\n        vertexShader={vertexShader}\n        uniforms={uniforms}\n      />\n    </mesh>\n  );\n}\n\nexport default Mesh;\n","import React from 'react';\nimport create from 'zustand';\nimport Mesh from './Mesh.js';\nimport { Canvas } from 'react-three-fiber';\n\nexport const meshState = {\n  mesh: [<Mesh channel=\"1\" />, <Mesh channel=\"2\" />, <Mesh channel=\"3\" />],\n};\n\nexport const [useMeshStore, meshApi] = create(set => ({\n  ...meshState,\n}));\n\nexport const canvasState = {\n  canvas: [\n    <Canvas className={'image-canvas-1'}>{meshState.mesh[0]}</Canvas>,\n    <Canvas className={'image-canvas-2'}>{meshState.mesh[1]}</Canvas>,\n    <Canvas className={'image-canvas-3'}>{meshState.mesh[2]}</Canvas>,\n  ],\n};\n\nexport const [useCanvasStore, canvasApi] = create(set => ({\n  ...canvasState,\n}));\n","import create from 'zustand';\n\nconst initState = {\n  annotations: [],\n};\n\nconst cachedState = {\n  cachedAnnots: [],\n};\n\nexport const [useAnnotStore, annotApi] = create(set => ({\n  ...initState,\n}));\n\nexport const [useCacheStore, cachedAnnotApi] = create(set => ({\n  ...cachedState,\n}));\n","import { annotApi, cachedAnnotApi } from './annotationStore.js';\n\nexport function addAnnotation(rect, label, classLabel) {\n  const default_class = 'class1'\n  annotApi.setState(prevState => ({\n    ...prevState,\n    annotations: [\n      ...prevState.annotations,\n      {\n        rect: rect,\n        label: label,\n        class: classLabel || default_class\n      },\n    ],\n  }));\n}\n\nexport function addCachedAnnotation(rect, label, classLabel) {\n  cachedAnnotApi.setState(prevState => ({\n    ...prevState,\n    cachedAnnots: [\n      ...prevState.cachedAnnots,\n      {\n        rect: rect,\n        label: label,\n        class: classLabel\n      },\n    ],\n  }));\n}\n\nexport function deleteAnnotation(index) {\n  const annotation = annotApi.getState().annotations[index];\n\n  addCachedAnnotation(annotation.rect, annotation.label);\n  annotApi.setState(prevState => {\n    return prevState.annotations.splice(index, 1);\n  });\n}\n\nexport function deleteCachedAnnotation(index) {\n  const cachedAnnot = cachedAnnotApi.getState().cachedAnnots[index];\n\n  addAnnotation(cachedAnnot.rect, cachedAnnot.label);\n  cachedAnnotApi.setState(prevState => {\n    return prevState.cachedAnnots.splice(index, 1);\n  });\n}\n\nexport function undoAnnotation() {\n  deleteAnnotation(annotApi.getState().annotations.length - 1);\n}\n\nexport function getLastAnnotIdx() {\n  return annotApi.getState().annotations.length - 1;\n}\n\nexport function getLastCachedAnnot() {\n  return cachedAnnotApi.getState().cachedAnnots[\n    cachedAnnotApi.getState().cachedAnnots.length - 1\n  ];\n}\n\nexport function getLastCachedAnnotIdx() {\n  return cachedAnnotApi.getState().cachedAnnots.length - 1;\n}\n\nexport function updateAnnotationLabel(oldLabel, label) {\n\n  annotApi.setState( prevState => {\n    const annotations = prevState.annotations.map((annot, j) => {\n      if (annot.label === oldLabel) {\n        var newAnnot = annot;\n        newAnnot.label = label\n        return newAnnot;\n      }\n      else {\n        return annot\n      }\n    })\n    return {\n      annotations\n    }\n  })\n}\n","import {setDisplay, getSelectedObjects, updateSelect} from \"./annotationSettings.js\"\nimport {updateLabel, updateClassLabel} from './editControl.js'\n\nexport function editAnnotationOption(label, classLabel) {\n  setDisplay(false);\n  updateSelect(1);\n}\nexport function editClassOption() {\n  setDisplay(false);\n  updateSelect(2);\n}\n\nexport function editAnnotationLabel(label) {\n\n  const obj = getSelectedObjects()\n  updateLabel(obj, label)\n  updateSelect(0);\n}\n\nexport function editAnnotationClass(className) {\n\n  const obj = getSelectedObjects()\n  updateClassLabel(obj, className)\n  updateSelect(0);\n}\n","import { fabric } from 'fabric';\nimport {\n  addAnnotation,\n  undoAnnotation,\n  getLastAnnotIdx,\n  getLastCachedAnnot,\n  getLastCachedAnnotIdx,\n  deleteCachedAnnotation,\n  updateAnnotationLabel,\n} from './annotationControl.js';\nimport { getCanvas } from './annotationSettings.js'\n\nconst colors = {red: '#dd9999', green: '#99dd99', purple: '#9999dd'};\n\nexport function drawSampleRect(canvas) {\n  const rect = {\n    left: 100,\n    top: 50,\n    width: 200,\n    height: 100,\n  };\n  const label = 'label' + (getLastAnnotIdx() + 1);\n  const classLabel = \"class1\";\n  drawRect(canvas, rect, label, classLabel);\n  addAnnotation(rect, label);\n}\n\nexport function drawFreeStyle(canvas) {\n  window.canvas = canvas;\n  canvas.isMouseDown = false;\n\n  canvas.isDrawingMode = true;\n  canvas.freeDrawingBrush.color = '#000';\n  canvas.freeDrawingBrush.width = 4;\n}\n\nexport function drawRect(canvas, rect, label, classLabel) {\n  var fRect = new fabric.Rect({\n    left: rect.left,\n    top: rect.top,\n    width: rect.width,\n    height: rect.height,\n    fill: 'transparent',\n    stroke: colors.green,\n    strokeLineJoin: 'round',\n    strokeWidth: 4,\n    objectCaching: false,\n  });\n\n  var group = new fabric.Group([fRect]);\n\n  label += getLastAnnotIdx() + 1;\n  var text = new fabric.IText(label, {\n    fontSize: 30,\n    originX: 'left',\n    originY: 'top',\n    fontFamily: 'Arial',\n    fontWeight: 'bold',\n    fill: 'white',\n    textBackgroundColor: colors.green,\n    top: group.top + group.height - fRect.strokeWidth,\n    left: group.left,\n  });\n\n  var classText = new fabric.IText(classLabel, {\n    fontSize: 30,\n    originX: 'left',\n    originY: 'bottom',\n    fontFamily: 'Arial',\n    fontWeight: 'bold',\n    fill: 'white',\n    textBackgroundColor: colors.green,\n    top: group.top + group.height - fRect.strokeWidth,\n    left: group.left,\n  });\n\n  if (canvas) {\n    fRect.perPixelTargetFind = true;\n    canvas.add(group);\n    canvas.setActiveObject(group);\n    group.addWithUpdate(text);\n    group.addWithUpdate(classText);\n  }\n\n  addAnnotation(fRect, label, classText);\n}\n\n\nexport function updateRect(rect) {\n  // update with new position\n}\n\nexport function updateLabel(object, label) {\n\n  var oldLabel = \"\"\n  if (object && label) {\n    ungroup(object)\n\n    if (object) {\n      var objs = object._objects\n      if (objs && (objs.length > 0)) {\n        for (var i = 0; objs.length; i++) {\n          if ( objs[i] ) {\n            if (i === 1) {\n              if (objs[i].text) {\n                oldLabel = objs[i].text\n                objs[i].text = label\n                updateAnnotationLabel(oldLabel, label)\n                getCanvas().renderAll();\n                regroup(object)\n                return\n              }\n            }\n          }\n          else {\n            return\n          }\n        }\n      }\n    }\n  }\n}\n\nexport function updateClassLabel(object, label) {\n\n  var oldLabel = \"\"\n  if (object && label) {\n    ungroup(object)\n\n    if (object) {\n      var objs = object._objects\n      if (objs && (objs.length > 0)) {\n        for (var i = 0; objs.length; i++) {\n          if ( objs[i] ) {\n            if (i === 2) {\n              if (objs[i].text) {\n                oldLabel = objs[i].text\n                objs[i].text = label\n                updateAnnotationLabel(oldLabel, label)\n                getCanvas().renderAll();\n                regroup(object)\n                return\n              }\n            }\n          }\n          else {\n            return\n          }\n        }\n      }\n    }\n  }\n}\n\nexport function ungroup(object) {\n  var canvas = getCanvas();\n  var items = object._objects;\n  if (items.length >= 2) {\n    object._restoreObjectsState();\n    canvas.remove(object)\n    for (var i = 0; i < items.length; i++) {\n      canvas.add(items[i]);\n      canvas.item(canvas.size()-1).hasControls=true;\n    }\n    canvas.renderAll();\n  }\n}\n\nexport function regroup(object) {\n  if (object && (object._objects.length === 3)) {\n    var objs = object._objects\n\n    var rect = objs[0]\n    var label = objs[1]\n    var classLabel = objs[2]\n\n    var group = new fabric.Group([rect, label, classLabel])\n    var canvas = getCanvas()\n    if (canvas) {\n      canvas.add(group)\n      canvas.remove(rect)\n      canvas.remove(label)\n      canvas.remove(classLabel)\n      canvas.setActiveObject(group)\n    }\n  }\n}\n\nexport function filterAnnotations(classLabel) {\n  var canvas = getCanvas();\n  var objs = canvas.getObjects();\n  for (var i = 0; i < objs.length; i++) {\n    var group = objs[i]\n    if (group) {\n      var group_elements = group._objects\n      if (group_elements) {\n        var class_element = group._objects[2]\n        if (class_element && class_element.text) {\n          if (class_element.text !== classLabel) {\n            markGroupInvisible(group)\n          }\n        }\n      }\n    }\n  }\n  canvas.renderAll();\n}\n\nexport function showAll() {\n  var canvas = getCanvas();\n  var objs = canvas.getObjects();\n  for (var i = 0; i < objs.length; i++) {\n    var group = objs[i]\n    if (group) {\n      markGroupVisible(group)\n    }\n  }\n}\n\nexport function markGroupVisible(group) {\n  ungroup(group)\n\n  var objs = group._objects;\n  for (var i = 0; i < objs.length; i++) {\n    var obj = objs[i];\n    markVisible(obj, true)\n  }\n\n  regroup(group)\n}\n\nexport function markGroupInvisible(group) {\n  ungroup(group)\n\n  var objs = group._objects;\n  for (var i = 0; i < objs.length; i++) {\n    var obj = objs[i];\n    markVisible(obj, false)\n  }\n\n  regroup(group)\n}\n\nfunction markVisible(obj, visible) {\n  obj.visible = visible\n  obj.dirty = true\n  getCanvas().renderAll();\n}\n\nexport function undo(canvas) {\n  const idx = getLastAnnotIdx();\n\n  if (idx >= 0) {\n    // remove from canvas\n    canvas.getObjects().map(function(o, i) {\n      if (i === idx) {\n        canvas.remove(o);\n      }\n      return null\n    })\n\n    // remove from annotations\n    undoAnnotation();\n  }\n  return null\n}\n\nexport function redo(canvas) {\n  const idx = getLastCachedAnnotIdx();\n\n  if ( idx >= 0 ) {\n    // get last from cache\n    const cachedAnnot = getLastCachedAnnot();\n    // redraw on canvas\n    drawRect(canvas, cachedAnnot.rect, cachedAnnot.label);\n    // remove from cache\n    deleteCachedAnnotation(idx);\n  }\n}\n","import create from 'zustand';\nimport {editAnnotationOption, editClassOption} from './annotationMenuOptions.js'\n\nexport const initState = {\n  menu: {\n    displayon: false,\n    coords: {\n      x: 0,\n      y: 0\n    },\n    items: [\n      {\n        \"label\": \"Edit Annotation\",\n        \"callback\": editAnnotationOption\n      },\n      {\n        \"label\": \"Edit Class\",\n        \"callback\": editClassOption\n      }\n    ],\n    objects: [],\n    select: 0,\n    canvas: null\n  }\n}\n\nexport const [useAnnotationMenu, AnnotationMenuApi] = create ( set => ({\n  ...initState,\n}))\n\nexport function isDisplayOn() {\n  return AnnotationMenuApi.getState().menu.displayon\n}\n\nexport function setCanvas(canvas) {\n  AnnotationMenuApi.setState( prevState => ({\n    ...prevState,\n    canvas: canvas\n  }))\n}\n\nexport function getCanvas() {\n  return AnnotationMenuApi.getState().canvas\n}\n\nexport function setDisplay(value) {\n  AnnotationMenuApi.setState( prevState => ({\n    ...prevState,\n    menu: {\n      ...prevState.menu,\n      displayon: value\n    }\n  }))\n}\n\nexport function getCoords() {\n  return AnnotationMenuApi.getState().menu.coords\n}\n\nexport function setCoords(x, y) {\n  AnnotationMenuApi.setState( prevState => ({\n    ...prevState,\n    menu: {\n      ...prevState.menu,\n      coords: {\n        x: x,\n        y: y\n      }\n    }\n  }))\n}\n\nexport function getItems() {\n  return AnnotationMenuApi.getState().menu.items\n}\n\nexport function setSelectedObjects(objects) {\n  AnnotationMenuApi.setState( prevState => ({\n    ...prevState,\n    menu: {\n      ...prevState.menu,\n      objects: objects\n    }\n  }))\n}\n\nexport function getSelectedObjects() {\n  return AnnotationMenuApi.getState().menu.objects\n}\n\nexport function updateSelect(sel) {\n  AnnotationMenuApi.setState( prevState => ({\n    ...prevState,\n    menu: {\n      ...prevState.menu,\n      select: sel\n    }\n  }))\n}\n","import React from \"react\";\nimport {editAnnotationLabel, editAnnotationClass} from './annotationMenuOptions.js'\n\nclass AnnotationSubMenu extends React.Component {\n constructor(props) {\n   super(props);\n    this.handleChange = this.handleChange.bind(this);\n    this.changeLabel = this.changeLabel.bind(this);\n    this.changeClassLabel = this.changeClassLabel.bind(this);\n\n    this.state = {\n      text: {\n        style: {\n         'position': 'absolute',\n         'top': '0px',\n         'left':'0px'\n        },\n      },\n      label: {\n        text: \"\",\n        style: {\n         'position': 'absolute',\n         'top': '0px',\n         'left':'0px'\n        },\n      },\n      button: {\n        style: {\n         'position': 'absolute',\n         'top': '0px',\n         'left':'0px'\n        },\n      },\n    };\n  }\n\n  componentDidMount() {\n    var labelTop = (parseInt(this.props.style.top.match(/\\d+/g)) - 40) +'px'\n    var buttonLeft = (parseInt(this.props.style.left.match(/\\d+/g)) + 105) +'px'\n\n    this.setState({\n      text: {\n        style: {\n           'position': this.props.style.position,\n           'top': this.props.style.top,\n           'left': this.props.style.left,\n           'width': '100px'\n        }\n      },\n      label: {\n        style: {\n           'position': this.props.style.position,\n           'top': labelTop,\n           'left': this.props.style.left,\n           'width': '100px'\n        },\n        text: ''\n      },\n      button: {\n        style: {\n           'position': this.props.style.position,\n           'top': this.props.style.top,\n           'left': buttonLeft\n        }\n      }\n    })\n  }\n\n  handleChange(event) {\n    if (event && event.target && event.target.value) {\n      var newStr = event.target.value\n      this.setState( prevState => ({\n        ...prevState,\n        label: {\n          ...prevState.label,\n          text: newStr\n        }\n      }))\n    }\n  }\n\n  changeLabel(event) {\n    editAnnotationLabel(this.state.label.text)\n  }\n\n  changeClassLabel(event) {\n    editAnnotationClass(this.state.label.text)\n  }\n\n  display() {\n    if (this.props.select === 1) {\n      return (\n        <div >\n          <div style={this.state.label.style}> <p> Label: </p> </div>\n          <input\n            type=\"text\"\n            value={this.state.label.text}\n            style={this.state.text.style}\n            onChange={this.handleChange}\n          />\n          <button style={this.state.button.style} onClick={this.changeLabel}> Change Label </button>\n        </div>\n      );\n    }\n    else if (this.props.select === 2) {\n      return (\n        <div >\n          <div style={this.state.label.style}> <p> Class Name: </p> </div>\n          <input\n            type=\"text\"\n            value={this.state.label.text}\n            style={this.state.text.style}\n            onChange={this.handleChange}\n          />\n          <button style={this.state.button.style} onClick={this.changeClassLabel}> Change Class Name </button>\n        </div>\n      );\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        {this.display()}\n      </div>\n    )\n  }\n}\n\nexport default AnnotationSubMenu;","import React from \"react\";\nimport { getItems, AnnotationMenuApi} from \"./annotationSettings.js\"\nimport AnnotationSubMenu from './annotationSubMenu.js'\n\nclass AnnotationMenu extends React.Component {\n constructor(props) {\n   super(props);\n\n    this.contextRef = React.createRef();\n    this.returnMenu = this.returnMenu.bind(this);\n\n    this.state = {\n      items: [],\n      coords: {\n        x: 0,\n        y: 0\n      },\n      style: {\n       'position': 'absolute',\n       'top': '0px',\n       'left':'0px'\n      },\n      on: false,\n      select: 0,\n    };\n  }\n\n  updateCoords(x, y) {\n    if (this.state.coords.x !== x\n      && this.state.coords.y !== y) {\n      this.setState( prevState => ({\n        ...prevState,\n        coords: {\n          x: x,\n          y: y,\n        },\n        style: {\n          ...prevState.style,\n          'top': `${y}px`,\n          'left':`${x+5}px`\n        }\n      }))\n    }\n  }\n\n  updateItems(items) {\n    if (this.state.items !== items) {\n      this.setState( prevState => ({\n        ...prevState,\n        items: items\n      }))\n    }\n  }\n\n  updateDisplay(on) {\n    if (this.state.on !== on) {\n      this.setState( prevState => ({\n        ...prevState,\n        on: on\n      }))\n    }\n  }\n  updateSelect(sel) {\n    if (this.state.select !== sel) {\n      this.setState( prevState => ({\n        ...prevState,\n        select: sel\n      }))\n    }\n  }\n\n  returnMenu() {\n    AnnotationMenuApi.subscribe(state => {\n      this.updateItems(state.menu.items)\n      this.updateCoords(state.menu.coords.x, state.menu.coords.y)\n      this.updateDisplay(state.menu.displayon)\n      this.updateSelect(state.menu.select)\n    })\n    if (this.state.on) {\n      return (\n        <div className='custom-context' id='customcontext' style={this.state.style} ref={this.contextRef}>\n        {\n          getItems().map((item, index, arr) => {\n            if (arr.length > 0) {\n              let label = item.label+\"-button-wrapper\"\n              return (\n                <div key={label}>\n                  <button onClick={item.callback}> {item.label} </button>\n                </div>\n              )\n            }\n            return null\n          })\n        }\n        </div>\n      )\n    }\n\n    if (this.state.select === 1 || this.state.select === 2) {\n      return (\n        <AnnotationSubMenu style={this.state.style} select={this.state.select}/>\n      )\n    }\n    return (\n      null\n    )\n  }\n\n  render() {\n    return (\n      <div id='cmenu'>\n        {this.returnMenu()}\n      </div>\n    );\n  }\n}\n\nexport default AnnotationMenu;","import React from 'react';\nimport { fabric } from 'fabric';\nimport {\n  drawRect,\n  undo,\n  redo,\n  filterAnnotations,\n  showAll,\n} from '../../annotator/editControl.js';\nimport { annotApi } from '../../annotator/annotationStore.js';\nimport AnnotationMenu from '../../annotator/annotationMenu.js';\nimport {\n  setCanvas,\n  isDisplayOn,\n  setDisplay,\n  setCoords,\n  setSelectedObjects,\n} from '../../annotator/annotationSettings.js'\n\nvar canvas;\n\nconst modes = {\n    RECT: 'rectangle',\n    FREE: 'free draw',\n    SELECT: 'select'\n}\n\nclass FabricLayer extends React.Component {\n  constructor(props) {\n    super(props);\n    this.canvasRef = React.createRef();\n\n    this.state = {\n      mousedown: false,\n      mousex: 0,\n      mousey: 0,\n      canvasx: 0,\n      canvasy: 0,\n      mode: modes.RECT,\n    };\n\n    this.handleMouseDown = this.handleMouseDown.bind(this);\n    this.handleMouseUp = this.handleMouseUp.bind(this);\n    this.handleMouseDoubleClick = this.handleMouseDoubleClick.bind(this);\n    this.handleDrag = this.handleDrag.bind(this);\n    this.selectClass1 = this.selectClass1.bind(this);\n    this.showAll = this.showAllClasses.bind(this);\n  }\n\n  componentDidMount() {\n    canvas = new fabric.Canvas(this.canvasRef.current, {\n      fireRightClick: true\n    });\n    canvas.on({\n      'mouse:down': this.handleMouseDown,\n      'mouse:up': this.handleMouseUp,\n      'mouse:dblclick': this.handleMouseDoubleClick,\n      'object:moving': this.handleDrag,\n      'object:rotating': this.handleDrag,\n      'object:scaling': this.handleDrag,\n    });\n    setCanvas(canvas);\n  }\n\n  setMode(newMode) {\n    this.setState( prevState => ({\n      ...prevState,\n      mode: newMode\n    }));\n\n    if (newMode === modes.FREE) {\n      canvas.isDrawingMode = true;\n    }\n    else {\n      canvas.isDrawingMode = false;\n    }\n\n    if (newMode === modes.SELECT) {\n      this.handleObjectSelect(null)\n    }\n  }\n\n  setOrigin(mouseEvt) {\n    this.setState({\n      lastMousex: mouseEvt.clientX,\n      lastMousey: mouseEvt.clientY,\n      mousex: mouseEvt.clientX,\n      mousey: mouseEvt.clientY,\n    });\n  }\n\n  setNewCoordinates(options) {\n    let x = options.e.clientX;\n    let y = options.e.clientY;\n    let canvasLeft = canvas._offset.left;\n    let canvasRight = canvas._offset.left + canvas.width;\n    let canvasTop = canvas._offset.top;\n    let canvasBottom = canvas._offset.top + canvas.height;\n\n    this.setState({\n      mousex: x < canvasLeft ? canvasLeft : (x > canvasRight ? canvasRight - 15 : x),\n      mousey: y < canvasTop ? canvasTop : (y > canvasBottom ? canvasBottom - 15 : y),\n    });\n  }\n\n  handleDrag(e){\n    this.setMode(modes.SELECT);\n  }\n\n  handleLeftMouseDown(options) {\n    this.setMode(modes.RECT);\n    if (!canvas.isDrawingMode) {\n      this.setOrigin(options.e)\n    }\n  }\n\n  handleRightMouseDown(options) {\n    this.setOrigin(options.e)\n    if (!isDisplayOn()) {\n      setDisplay(true);\n    }\n    setCoords(this.state.mousex, this.state.mousey)\n  }\n\n  handleLeftMouseUp(options) {\n    this.setNewCoordinates(options);\n\n    if (this.state.lastMousex && this.state.lastMousey && this.state.mode === modes.RECT) {\n      const rect = {\n        width: this.state.mousex - this.state.lastMousex,\n        height: this.state.mousey - this.state.lastMousey,\n        top: this.state.lastMousey,\n        left:this.state.lastMousex,\n      };\n      drawRect(canvas, rect, 'label', 'class1');\n      this.setMode(modes.SELECT);\n    }\n  }\n\n  handleRightMouseUp(options) {\n  }\n\n  handleMouseDown(options) {\n    if (options.button === 3) {\n      this.handleRightMouseDown(options)\n    }\n    else {\n      this.handleLeftMouseDown(options)\n    }\n  }\n\n  handleMouseUp(options){\n    // if there is a last mouse x and y\n    // get width and height by computing the x and y from mouse down\n    // draw rectangle\n    // add to annotations\n    if (options.button === 3) {\n      this.handleRightMouseUp(options)\n    }\n    else {\n      this.handleLeftMouseUp(options)\n    }\n  }\n\n  handleObjectSelect(e) {\n    // setSelectedObjects(canvas.getActiveObjects()[0]._objects)\n    setSelectedObjects(canvas.getActiveObjects()[0])\n    // if more than one object is selected\n    // if Delete button is selected\n    // delete all objects from canvas\n    // remove from annotations\n  }\n\n  handleObjectResize(e) {\n    // if an object is selected, and resized\n    // updateRect(rect)\n  }\n\n  handleMouseDoubleClick(e) {\n    // if an object is selected\n    // updateLabel (label)\n    this.setMode(modes.SELECT)\n  }\n\n  displayMenu() {\n    if (canvas && (canvas.getActiveObjects().length > 0)) {\n      return(\n        <AnnotationMenu />\n      )\n    }\n  }\n  selectClass1() {\n    filterAnnotations(\"class1\")\n    this.forceUpdate();\n  }\n  showAllClasses() {\n    showAll()\n    this.forceUpdate();\n  }\n\n  render() {\n    annotApi.subscribe(state => {\n      if (state) {\n        let annots = state.annotations;\n\n        if (annots.length > canvas.getObjects().length) {\n          let lastAnnotIdx = annots.length - 1;\n          let annot = annots[lastAnnotIdx];\n\n          var newAnnot = {\n            left: parseInt(annot.rect.left),\n            top: parseInt(annot.rect.top),\n            width: parseInt(annot.rect.width),\n            height: parseInt(annot.rect.height),\n          };\n\n          drawRect(canvas, newAnnot, annot.label, annot.class);\n        }\n      }\n    })\n\n    return (\n      <div id=\"annotationLayer\" onContextMenu={(e) => e.preventDefault()}\n      >\n        <canvas ref={this.canvasRef}\n          width={750}\n          height={750}\n        />\n        <button\n          style={{ position: \"absolute\", zIndex: 1, top: 10, left: 10 }}\n          onClick={(e) => this.setMode(modes.FREE, e)}\n        >\n          Draw Freestyle\n        </button>\n        <button\n          style={{ position: \"absolute\", zIndex: 1, top: 10, left: 200}}\n          onClick={(e) => this.setMode(modes.RECT, e)}\n        >\n          Draw Rect\n        </button>\n        <button\n          style={{ position: \"absolute\", zIndex: 1, top: 10, left: 400}}\n          onClick={() => undo(canvas)}\n        >\n          Undo\n        </button>\n        <button\n          style={{ position: \"absolute\", zIndex: 1, top: 10, left: 600}}\n          onClick={() => redo(canvas)}\n        >\n          Redo\n        </button>\n        <button\n          style={{ position: \"absolute\", zIndex: 1, top: 50, left: 10}}\n          onClick={() => this.selectClass1()}\n        >\n          Show Class 1 Only\n        </button>\n        <button\n          style={{ position: \"absolute\", zIndex: 1, top: 80, left: 10}}\n          onClick={() => this.showAllClasses()}\n        >\n          Show All\n        </button>\n        {this.displayMenu()}\n      </div>\n    );\n  }\n}\n\nexport default FabricLayer\n","import React from 'react';\n\nimport {\n  cardStyle,\n  card,\n  mainImg,\n  canvasStyle1,\n  canvasStyle2,\n  canvasStyle3,\n} from '../style.js';\nimport Viewer from '../../viewer/index.js';\nimport { Card, CardTitle, CardBody } from 'reactstrap';\nimport { canvasApi } from '../../imagecanvas/canvasStore.js';\nimport { settingsApi } from '../../mainSettings.js';\nimport FabricLayer from './FabricLayer.js';\n\nclass mainViewer extends React.Component {\n  altView() {\n    return (\n      <Card style={card}>\n        <CardBody>\n          <CardTitle> Image View </CardTitle>\n          <Viewer imageWidth={mainImg.width} type=\"0\" />\n        </CardBody>\n        <br></br>\n      </Card>\n    );\n  }\n\n  channelViews() {\n    var view1;\n    var view2;\n    var view3;\n\n    if (settingsApi.getState().channels[0].selected) {\n      console.log('displaying 1');\n      view1 = canvasApi.getState().canvas[0];\n    }\n    if (settingsApi.getState().channels[1].selected) {\n      console.log('displaying 2');\n      view2 = canvasApi.getState().canvas[1];\n    }\n    if (settingsApi.getState().channels[2].selected) {\n      console.log('displaying 3');\n      view3 = canvasApi.getState().canvas[2];\n    }\n    return (\n      <div id=\"canvasContainer\">\n        <div style={canvasStyle1}>{view1}</div>\n        <div style={canvasStyle2}>{view2}</div>\n        <div style={canvasStyle3}>{view3}</div>\n      </div>\n    );\n  }\n\n  display() {\n    if (\n      !settingsApi.getState().channels[0].selected &&\n      !settingsApi.getState().channels[1].selected &&\n      !settingsApi.getState().channels[2].selected\n    ) {\n      return this.altView();\n    } else {\n      return this.channelViews();\n    }\n  }\n\n  render() {\n    settingsApi.subscribe(state => {\n      this.forceUpdate();\n    });\n    return (\n      <div className=\"main-view\" style={cardStyle}>\n        {this.display()}\n        <FabricLayer />\n      </div>\n    );\n  }\n}\n\nexport default mainViewer;\n","import React from 'react';\n\nimport { cardStyle, card, axesImg } from '../style.js';\nimport Viewer from '../../viewer/index.js';\nimport { Card, CardTitle, CardBody } from 'reactstrap';\n\nclass AxesViewer extends React.Component {\n  render() {\n    return (\n      <div>\n        <div className=\"card-axis-xy\" style={cardStyle}>\n          <Card style={card}>\n            <CardBody>\n              <CardTitle> Axis XY </CardTitle>\n              <Viewer imageWidth={axesImg.width} type=\"1\" />\n            </CardBody>\n          </Card>\n        </div>\n\n        <br></br>\n        <div className=\"card-axis-yz\" style={cardStyle}>\n          <Card style={card}>\n            <CardBody>\n              <CardTitle> Axis YZ </CardTitle>\n              <Viewer imageWidth={axesImg.width} type=\"2\" />\n            </CardBody>\n          </Card>\n        </div>\n\n        <br></br>\n        <div className=\"card-axis-xz\" style={cardStyle}>\n          <Card style={card}>\n            <CardBody>\n              <CardTitle> Axis XZ </CardTitle>\n              <Viewer imageWidth={axesImg.width} type=\"3\" />\n            </CardBody>\n          </Card>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default AxesViewer;\n","import { uApi } from '../utils/index.js';\nimport { createTexture, createTextureFromTiff } from './ImageStore.js';\n\nfunction isValidChannel(channel) {\n  return (\n    uApi.getState() &&\n    uApi.getState().channels.length > 0 &&\n    channel >= 1 &&\n    uApi.getState().channels[channel - 1] &&\n    uApi.getState().channels[channel - 1].uniforms.contrast &&\n    uApi.getState().channels[channel - 1].uniforms.brightness\n  );\n}\n\nfunction updateUniformBrightness(value, channel) {\n  uApi.setState(prevState => {\n    const channels = prevState.channels.map((ch, j) => {\n      if (j === channel - 1) {\n        var newChannel = ch;\n        newChannel.uniforms.brightness.value = value;\n        return newChannel;\n      } else {\n        return ch;\n      }\n    });\n    return {\n      channels,\n    };\n  });\n}\n\nfunction updateUniformContrast(value, channel) {\n  uApi.setState(prevState => {\n    const channels = prevState.channels.map((ch, j) => {\n      if (j === channel - 1) {\n        var newChannel = ch;\n        newChannel.uniforms.contrast.value = value;\n        return newChannel;\n      } else {\n        return ch;\n      }\n    });\n    return {\n      channels,\n    };\n  });\n}\n\nfunction updateUniformWhitepoint(value, channel) {\n  uApi.setState(prevState => {\n    const channels = prevState.channels.map((ch, j) => {\n      if (j === channel - 1) {\n        var newChannel = ch;\n        newChannel.uniforms.whitepoint.value = value;\n        return newChannel;\n      } else {\n        return ch;\n      }\n    });\n    return {\n      channels,\n    };\n  });\n}\n\nfunction updateUniformBlackpoint(value, channel) {\n  uApi.setState(prevState => {\n    const channels = prevState.channels.map((ch, j) => {\n      if (j === channel - 1) {\n        var newChannel = ch;\n        newChannel.uniforms.blackpoint.value = value;\n        return newChannel;\n      } else {\n        return ch;\n      }\n    });\n    return {\n      channels,\n    };\n  });\n}\n\nexport function updateImage(file, channel) {\n  let name = file.name;\n  let blob = file.image;\n  let texture = file.texture;\n\n  if (texture === '') {\n    if (file.type === 'image/tiff') {\n      texture = createTextureFromTiff(blob);\n    } else {\n      texture = createTexture(blob);\n    }\n  }\n  const prevStateCh = uApi.getState().channels[channel - 1];\n\n  if (\n    prevStateCh.name !== name ||\n    prevStateCh.imagepath !== blob ||\n    prevStateCh.uniforms.image.value !== texture\n  ) {\n    updateUniformImage(texture, name, blob, channel);\n  }\n}\n\nexport function updateUniformImage(texture, name, imagepath, channel) {\n  uApi.setState(prevState => {\n    const channels = prevState.channels.map((ch, j) => {\n      if (j === channel - 1) {\n        var newChannel = ch;\n\n        newChannel.name = name;\n        newChannel.imagepath = imagepath;\n        newChannel.uniforms.image.value = texture;\n        return newChannel;\n      } else {\n        return ch;\n      }\n    });\n    return {\n      channels,\n    };\n  });\n}\n\nexport function updateBrightness(value, channel) {\n  if (isValidChannel(channel)) {\n    if (\n      value !== uApi.getState().channels[channel - 1].uniforms.brightness.value\n    ) {\n      updateUniformBrightness(value, channel);\n    }\n    return true;\n  } else {\n    console.log(\n      'CanvasControl::UpdateBrighness() - null state',\n      uApi.getState(),\n      ' channel: ',\n      channel,\n      ' value: ',\n      value\n    );\n  }\n  return false;\n}\n\nexport function updateContrast(value, channel) {\n  if (isValidChannel(channel)) {\n    if (\n      value !== uApi.getState().channels[channel - 1].uniforms.contrast.value\n    ) {\n      updateUniformContrast(value, channel);\n    }\n    return true;\n  } else {\n    console.log(\n      'CanvasControl::updateContrast() - null state',\n      uApi.getState(),\n      ' channel: ',\n      channel,\n      ' value: ',\n      value\n    );\n  }\n  return false;\n}\n\nexport function updateWhitepoint(value, channel) {\n  if (isValidChannel(channel)) {\n    if (\n      value !== uApi.getState().channels[channel - 1].uniforms.whitepoint.value\n    ) {\n      updateUniformWhitepoint(value, channel);\n    }\n    return true;\n  } else {\n    console.log(\n      'CanvasControl::updateWhitepoint() - null state',\n      uApi.getState(),\n      ' channel: ',\n      channel,\n      ' value: ',\n      value\n    );\n  }\n  return false;\n}\n\nexport function updateBlackpoint(value, channel) {\n  if (isValidChannel(channel)) {\n    if (\n      value !== uApi.getState().channels[channel - 1].uniforms.blackpoint.value\n    ) {\n      updateUniformBlackpoint(value, channel);\n    }\n    return true;\n  } else {\n    console.log(\n      'CanvasControl::updateBlackpoint() - null state',\n      uApi.getState(),\n      ' channel: ',\n      channel,\n      ' value: ',\n      value\n    );\n  }\n  return false;\n}\n","import React from 'react';\nimport { createTexture, createTextureFromTiff } from './ImageStore.js';\nimport { fApi, uApi } from '../utils/index.js';\nimport { updateImage } from './CanvasControl.js';\nimport { canvasApi } from './canvasStore.js';\nimport { canvasStyle1 } from '../style.js';\n\nclass ImageCanvas extends React.Component {\n  updateForFile(state) {\n    if (state) {\n      updateImage(state.file[state.selected], this.props.channel);\n    }\n    this.forceUpdate();\n  }\n  updateForControls(state) {\n    this.forceUpdate();\n  }\n\n  render() {\n    fApi.subscribe(state => {\n      this.updateForFile(state);\n    });\n    uApi.subscribe(state => {\n      this.updateForControls(state);\n    });\n\n    return canvasApi.getState().canvas[this.props.channel - 1];\n  }\n}\n\nexport default ImageCanvas;\n","import React from 'react';\n\nimport { card, cardBody, canvasThumbnail } from '../style.js';\nimport { Button, UncontrolledCollapse, Card, CardBody } from 'reactstrap';\n\nimport ImageCanvas from '../../imagecanvas/ImageCanvas.js';\nimport Slider from './slider.js';\nimport {\n  updateBrightness,\n  updateContrast,\n  updateWhitepoint,\n  updateBlackpoint,\n} from '../../imagecanvas/CanvasControl.js';\nimport {\n  updateChannelSel,\n  updateLastSel,\n  settingsApi,\n} from '../../mainSettings.js';\n\nclass Channel extends React.Component {\n  updateSelection = () => {\n    updateChannelSel(this.props.ch);\n    updateLastSel(this.props.ch);\n    this.forceUpdate();\n  };\n\n  sliderValueBr(value) {\n    updateBrightness(value, this.props.ch);\n  }\n\n  sliderValueCt(value) {\n    updateContrast(value, this.props.ch);\n  }\n\n  sliderValueWp(value) {\n    updateWhitepoint(value, this.props.ch);\n  }\n\n  sliderValueBp(value) {\n    updateBlackpoint(value, this.props.ch);\n  }\n\n  resetBrightness() {\n    updateBrightness('0.0', this.props.ch);\n  }\n\n  resetContrast() {\n    updateContrast('0.0', this.props.ch);\n  }\n\n  resetWhitepoint() {\n    updateWhitepoint('255.0', this.props.ch);\n  }\n\n  resetBlackpoint() {\n    updateBlackpoint('0.0', this.props.ch);\n  }\n\n  render() {\n    var sliderValueBr = this.sliderValueBr;\n    var sliderValueCt = this.sliderValueCt;\n    var sliderValueWp = this.sliderValueWp;\n    var sliderValueBp = this.sliderValueBp;\n    var alt = 'Ch' + this.props.ch + ' Histogram';\n    var canvas = (\n      <ImageCanvas\n        className=\"annot-view\"\n        alt={alt}\n        height=\"100px\"\n        channel={this.props.ch}\n      />\n    );\n    var sel = settingsApi.getState().channels[this.props.ch - 1].selected;\n\n    console.log('Channel ' + this.props.ch + ' : ' + sel);\n    return (\n      <div>\n        <Button\n          className=\"channelBtn\"\n          outline\n          color=\"primary\"\n          id=\"channel-btn\"\n          onClick={() => {\n            this.updateSelection();\n          }}\n          active={sel}\n        >\n          Channel {`${this.props.ch}`}\n        </Button>\n        <Button\n          className=\"viewBtn\"\n          outline\n          color=\"secondary\"\n          id={`view${this.props.ch}`}\n        >\n          View\n        </Button>\n        <UncontrolledCollapse toggler={`#view${this.props.ch}`}>\n          <Card style={card}>\n            <CardBody style={cardBody}>\n              <div style={canvasThumbnail}>{canvas}</div>\n              \"Insert Look up table here\"\n              <br></br>\n              <br></br>\n              <div className=\"brightness-slider-container\">\n                <Slider\n                  label=\"Brightness\"\n                  width=\"40%\"\n                  min=\"0\"\n                  max=\"1\"\n                  step=\"0.1\"\n                  initial=\"0\"\n                  multiplier=\"100\"\n                  raw=\"0\"\n                  sliderValue={sliderValueBr.bind(this)}\n                />\n                <button\n                  id=\"resetBrBtn\"\n                  onClick={() => {\n                    this.resetBrightness();\n                  }}\n                >\n                  Reset Brightness\n                </button>\n              </div>\n              <div className=\"contrast-slider-container\">\n                <Slider\n                  label=\"Contrast\"\n                  width=\"40%\"\n                  min=\"0\"\n                  max=\"10\"\n                  step=\"1\"\n                  initial=\"0\"\n                  multiplier=\"10\"\n                  raw=\"0\"\n                  sliderValue={sliderValueCt.bind(this)}\n                />\n                <button\n                  id=\"resetCtBtn\"\n                  onClick={() => {\n                    this.resetContrast();\n                  }}\n                >\n                  Reset Contrast\n                </button>\n              </div>\n              <div className=\"whitepoint-slider-container\">\n                <Slider\n                  label=\"Whitepoint\"\n                  width=\"40%\"\n                  min=\"0\"\n                  max=\"255\"\n                  step=\"1\"\n                  initial=\"255\"\n                  multiplier=\"1\"\n                  raw=\"1\"\n                  sliderValue={sliderValueWp.bind(this)}\n                />\n                <button\n                  id=\"resetWpBtn\"\n                  onClick={() => {\n                    this.resetWhitepoint();\n                  }}\n                >\n                  Reset Whitepoint\n                </button>\n              </div>\n              <div className=\"blackpoint-slider-container\">\n                <Slider\n                  label=\"Blackpoint\"\n                  width=\"40%\"\n                  min=\"0\"\n                  max=\"255\"\n                  step=\"1\"\n                  initial=\"0\"\n                  multiplier=\"1\"\n                  raw=\"1\"\n                  sliderValue={sliderValueBp.bind(this)}\n                />\n                <button\n                  id=\"resetBpBtn\"\n                  onClick={() => {\n                    this.resetBlackpoint();\n                  }}\n                >\n                  Reset Blackpoint\n                </button>\n              </div>\n            </CardBody>\n          </Card>\n        </UncontrolledCollapse>\n      </div>\n    );\n  }\n}\n\nexport default Channel;\n","import React from 'react';\n\nimport { cardStyle, card } from '../style.js';\nimport { Card, CardTitle, CardBody } from 'reactstrap';\n\nimport Channel from './channel.js';\n\nclass ChannelViewer extends React.Component {\n  render() {\n    return (\n      <div className=\"annotations-channel\" style={cardStyle}>\n        <Card style={card}>\n          <CardBody>\n            <CardTitle> Channel Selection </CardTitle>\n            <Channel ch=\"1\" />\n            <Channel ch=\"2\" />\n            <Channel ch=\"3\" />\n          </CardBody>\n        </Card>\n      </div>\n    );\n  }\n}\n\nexport default ChannelViewer;\n","import React from 'react';\n\nimport { cardStyle, card } from '../style.js';\nimport './../styles.css';\nimport '../../utils/styles.css';\nimport ChannelViewer from './channelViewer.js';\n\nimport { Button, Card, CardTitle, CardBody } from 'reactstrap';\n\nclass AnnotatorViewer extends React.Component {\n  state = {\n    annotations: {\n      annot1Sel: false,\n      annot2Sel: false,\n      annot3Sel: false,\n      annot4Sel: false,\n    },\n  };\n\n  updateSelection = sel => {\n    switch (sel) {\n      case 1:\n        this.setState(prevState => ({\n          annotations: {\n            ...prevState.annotations,\n            annot1Sel: !this.state.annotations.annot1Sel,\n          },\n        }));\n        break;\n      case 2:\n        this.setState(prevState => ({\n          annotations: {\n            ...prevState.annotations,\n            annot2Sel: !this.state.annotations.annot2Sel,\n          },\n        }));\n        break;\n      case 3:\n        this.setState(prevState => ({\n          annotations: {\n            ...prevState.annotations,\n            annot3Sel: !this.state.annotations.annot3Sel,\n          },\n        }));\n        break;\n      case 4:\n        this.setState(prevState => ({\n          annotations: {\n            ...prevState.annotations,\n            annot4Sel: !this.state.annotations.annot4Sel,\n          },\n        }));\n        break;\n      default:\n        break;\n    }\n  };\n\n  render() {\n    return (\n      <div>\n        <div className=\"annotations-class\" style={cardStyle}>\n          {console.log(\n            'Annotations: ' +\n              this.state.annotations.annot1Sel +\n              ' ' +\n              this.state.annotations.annot2Sel +\n              ' ' +\n              this.state.annotations.annot3Sel +\n              ' ' +\n              this.state.annotations.annot4Sel\n          )}\n          <Card style={card}>\n            <CardBody>\n              <CardTitle> Annotated Class Selection </CardTitle>\n            </CardBody>\n            <Button\n              outline\n              color=\"primary\"\n              id=\"annot1Btn\"\n              onClick={() => {\n                this.updateSelection(1);\n              }}\n              active={this.state.annotations.annot1Sel}\n            >\n              Annotation Class 1\n            </Button>\n            <Button\n              outline\n              color=\"primary\"\n              id=\"annot1Btn\"\n              onClick={() => {\n                this.updateSelection(2);\n              }}\n              active={this.state.annotations.annot2Sel}\n            >\n              Annotation Class 2\n            </Button>\n            <Button\n              outline\n              color=\"primary\"\n              id=\"annot1Btn\"\n              onClick={() => {\n                this.updateSelection(3);\n              }}\n              active={this.state.annotations.annot3Sel}\n            >\n              Annotation Class 3\n            </Button>\n            <Button\n              outline\n              color=\"primary\"\n              id=\"annot1Btn\"\n              onClick={() => {\n                this.updateSelection(4);\n              }}\n              active={this.state.annotations.annot4Sel}\n            >\n              Annotation Class 4\n            </Button>\n          </Card>\n        </div>\n\n        <br></br>\n        <ChannelViewer />\n      </div>\n    );\n  }\n}\n\nexport default AnnotatorViewer;\n","import React from 'react';\n\nimport { thumb, thumbInner } from '../style.js';\nimport { fApi } from '../../utils/index.js';\n\nclass Thumbnails extends React.Component {\n  selected = 0;\n\n  setSelected(idx) {\n    if (this.selected !== idx) {\n      fApi.setState(prevState => ({\n        ...prevState,\n        selected: idx,\n      }));\n      this.selected = idx;\n    }\n  }\n\n  allThumbs = () => {\n    var elements = [];\n\n    if (fApi.getState().file) {\n      fApi.getState().file.map((file, idx) => {\n        if (file.type === 'image/png' || file.type === 'image/tiff') {\n          elements.push(\n            <div style={thumb} key={file.name}>\n              <div style={thumbInner}>\n                <img\n                  src={file.image}\n                  style={file.style}\n                  alt={file.name}\n                  onClick={() => this.setSelected(idx)}\n                />\n              </div>\n            </div>\n          );\n        }\n        return null;\n      });\n    }\n\n    return <div>{elements}</div>;\n  };\n\n  render() {\n    fApi.subscribe(state => {\n      this.forceUpdate();\n    });\n\n    return <div id=\"thumbsContainer\">{this.allThumbs()}</div>;\n  }\n}\n\nexport default Thumbnails;\n","import create from 'zustand';\nimport { settingsApi } from '../mainSettings.js';\n\nexport const initState = () => {\n  return settingsApi.getState().dev ? devState : prodState;\n};\nexport const prodState = {\n  img_name: '',\n  annotations: [],\n};\n\nexport const devState = {};\n\nexport const [useAnnotStore, annotApi] = create(set => ({\n  ...initState(),\n}));\n","import csv from 'csvtojson';\nimport { saveJson, updateTiff } from '../fileuploader/fileControl.js';\nimport { Image } from 'image-js';\n\nexport function importCsv(file) {\n  const reader = new FileReader();\n\n  reader.onload = () => {\n    const fileAsBinaryString = reader.result;\n\n    csv({\n      noheader: true,\n      output: 'json',\n    })\n      .fromString(fileAsBinaryString)\n      .then(csvRows => {\n        const toJson = [];\n        csvRows.forEach((aCsvRow, i) => {\n          if (i !== 0) {\n            const builtObject = {};\n\n            Object.keys(aCsvRow).forEach(aKey => {\n              const valueToAddInBuiltObject = aCsvRow[aKey];\n              const keyToAddInBuiltObject = csvRows[0][aKey];\n              builtObject[keyToAddInBuiltObject] = valueToAddInBuiltObject;\n            });\n\n            toJson.push(builtObject);\n          }\n        });\n        saveJson(toJson);\n      });\n  };\n\n  reader.onabort = () => console.log('file reading was aborted');\n  reader.onerror = () => console.log('file reading has failed');\n\n  reader.readAsText(file, 'ISO-8859-1');\n}\n\nexport function importJson(file) {\n  const reader = new FileReader();\n  let json;\n  reader.onload = () => {\n    json = JSON.parse(reader.result);\n    saveJson(json.annotations);\n  };\n  reader.readAsText(file);\n}\n\nexport function importTiff(file) {\n  const reader = new FileReader();\n\n  if (file) {\n    reader.onload = () => {\n      var success = file.type === 'image/tiff';\n      if (success) {\n        console.debug('importer::importTiff() - Parsing TIFF image...');\n        parseTiff(file);\n      }\n    };\n    reader.onloadend = () => {};\n    reader.onprogress = () => {\n      console.log('importer::importTiff()', 'Still Parsing...');\n    };\n    reader.readAsArrayBuffer(file);\n  }\n}\n\nexport function parseTiff(file) {\n  var image = file.preview;\n  Image.load(image)\n    .then(function(image) {\n      updateTiff(image);\n    })\n    .catch(function(e) {\n      console.error('ERROR Unsupported compression: ', e);\n    });\n}\n","import { fileApi } from './fileStore.js';\nimport { annotApi } from '../annotator/annotStore.js';\nimport { addAnnotation } from '../annotator/annotationControl.js';\nimport {\n  createTexture,\n  createTextureFromTiff,\n} from '../imagecanvas/ImageStore.js';\nimport { importCsv, importJson, importTiff } from '../annotator/importer.js';\n\nconst img = {\n  display: 'block',\n  width: 'auto',\n  height: '100%',\n};\n\nvar idx = 0;\n\nexport function isFirstFile() {\n  return fileApi.getState().size === 0;\n}\n\nexport function isValidFile(name) {\n  // check if file is already uploaded\n  var validFile = false;\n\n  fileApi.setState(prevState => {\n    if (prevState.file) {\n      const x = prevState.file.filter(file => file.name === name);\n      if (x.length === 0) {\n        validFile = true;\n      }\n    }\n  });\n  return validFile;\n}\n\nexport function initPng(file) {\n  fileApi.setState(prevState => ({\n    ...prevState,\n    file: [\n      {\n        name: file.name,\n        image: file.preview,\n        style: img,\n        type: file.type,\n        texture: createTexture(file.preview),\n      },\n    ],\n    size: prevState.size + 1,\n  }));\n  idx = fileApi.getState().size - 1;\n}\n\nexport function addPng(file) {\n  fileApi.setState(prevState => ({\n    ...prevState,\n    file: [\n      ...prevState.file,\n      {\n        name: file.name,\n        image: file.preview,\n        style: img,\n        type: file.type,\n        texture: createTexture(file.preview),\n      },\n    ],\n    size: prevState.size + 1,\n  }));\n  idx = fileApi.getState().size - 1;\n}\n\nexport function initTiff(file) {\n  fileApi.setState(prevState => ({\n    ...prevState,\n    file: [\n      ...prevState.file,\n      {\n        name: file.name,\n        image: file.preview,\n        style: img,\n        type: file.type,\n      },\n    ],\n    size: prevState.size + 1,\n  }));\n  importTiff(file);\n  idx = fileApi.getState().size - 1;\n}\n\nexport function addTiff(file) {\n  importTiff(file);\n  idx = fileApi.getState().size - 1;\n}\n\nexport function updateTiff(image) {\n  fileApi.setState(prevState => {\n    const file = prevState.file.map((file, j) => {\n      var newFile = file;\n      newFile.texture = createTextureFromTiff(image.toDataURL());\n      return newFile;\n    });\n    return {\n      file,\n    };\n  });\n}\n\nexport function initCsv(file) {\n  fileApi.setState(prevState => ({\n    ...prevState,\n    file: [\n      {\n        name: file.name,\n        type: file.type,\n        json: importCsv(file),\n      },\n    ],\n    size: prevState.size + 1,\n  }));\n  idx = fileApi.getState().size - 1;\n}\n\nexport function addCsv(file) {\n  fileApi.setState(prevState => ({\n    ...prevState,\n    file: [\n      ...prevState.file,\n      {\n        name: file.name,\n        type: file.type,\n        json: importCsv(file),\n      },\n    ],\n    size: prevState.size + 1,\n  }));\n  idx = fileApi.getState().size - 1;\n}\n\nexport function initJson(file) {\n  fileApi.setState(prevState => ({\n    ...prevState,\n    file: [\n      {\n        name: file.name,\n        type: file.type,\n        json: importJson(file),\n      },\n    ],\n    size: prevState.size + 1,\n  }));\n  idx = fileApi.getState().size - 1;\n}\n\nexport function addJson(file) {\n  fileApi.setState(prevState => ({\n    ...prevState,\n    file: [\n      ...prevState.file,\n      {\n        name: file.name,\n        type: file.type,\n        json: importJson(file),\n      },\n    ],\n    size: prevState.size + 1,\n  }));\n  idx = fileApi.getState().size - 1;\n}\n\nfunction isAnnotValid(annotation) {\n  return (\n    annotation &&\n    annotation.rect.left > 0 &&\n    annotation.rect.left < 1000 &&\n    annotation.rect.top > 0 &&\n    annotation.rect.top < 1000 &&\n    annotation.rect.width > 0 &&\n    annotation.rect.width < 1000 &&\n    annotation.rect.height > 0 &&\n    annotation.rect.height < 1000 &&\n    annotation.label.length > 0\n  );\n}\n\nfunction addJsonAnnot(annotation) {\n  annotApi.setState(prevState => ({\n    img_name: fileApi.getState().file[idx].name,\n    annotations: prevState.annotations.concat(annotation),\n  }));\n  for (var i = 0; i < annotation.length; i++) {\n    if (isAnnotValid(annotation[i])) {\n      addAnnotation(annotation[i].rect, annotation[i].label);\n    }\n  }\n}\n\nexport function saveJson(result) {\n  fileApi.setState(prevState => {\n    const file = prevState.file.map((f, i) => {\n      if (i === idx) {\n        var newFile = f;\n        f.json = result;\n        return newFile;\n      } else {\n        return f;\n      }\n    });\n    return file;\n  });\n\n  addJsonAnnot(result);\n}\n","import React, { useEffect, useState } from 'react';\nimport { useDropzone } from 'react-dropzone';\nimport {\n  initPng,\n  addPng,\n  initTiff,\n  addTiff,\n  initCsv,\n  addCsv,\n  initJson,\n  addJson,\n  isFirstFile,\n  isValidFile,\n} from './fileControl.js';\n\nfunction addFile(file) {\n  if (file.type === 'image/png') {\n    addPng(file);\n  } else if (file.type === 'image/tiff') {\n    addTiff(file);\n  } else if (file.type === 'text/csv') {\n    addCsv(file);\n  } else if (file.type === 'application/json') {\n    addJson(file);\n  }\n}\n\nfunction initFile(file) {\n  if (file.type === 'image/png') {\n    initPng(file);\n  } else if (file.type === 'image/tiff') {\n    initTiff(file);\n  } else if (file.type === 'text/csv') {\n    initCsv(file);\n  } else if (file.type === 'application/json') {\n    initJson(file);\n  }\n}\n\nexport function FileUpload(props) {\n  const [files, setFiles] = useState([]);\n  const { getRootProps, getInputProps } = useDropzone({\n    accept: 'image/png, image/tiff, .csv, .json',\n    onDrop: acceptedFiles => {\n      setFiles(\n        acceptedFiles.map(file =>\n          Object.assign(file, {\n            preview: URL.createObjectURL(file),\n          })\n        )\n      );\n    },\n  });\n\n  const update = files.map(file => {\n    if (isValidFile(file.name)) {\n      if (isFirstFile()) {\n        initFile(file);\n      } else {\n        addFile(file);\n      }\n    }\n    return null;\n  });\n\n  useEffect(\n    () => () => {\n      // Make sure to revoke the data uris to avoid memory leaks\n      files.forEach(file => URL.revokeObjectURL(file.preview));\n    },\n    [files]\n  );\n\n  return (\n    <section className=\"container\">\n      <div {...getRootProps({ className: 'dropzone' })}>\n        <input {...getInputProps()} />\n        <p> {props.name} </p>\n        {update}\n      </div>\n    </section>\n  );\n}\n","import { annotApi } from './annotationStore.js';\n\nexport function exportJson() {\n  const element = document.createElement('a');\n\n  const file = new Blob([JSON.stringify(annotApi.getState())], {\n    type: 'text/plain',\n  });\n  element.href = URL.createObjectURL(file);\n  element.download = 'annotations.txt';\n  document.body.appendChild(element); // Required for this to work in FireFox\n  element.click();\n}\n","import React from 'react';\n\nimport { buttonGroup } from '../style.js';\nimport {\n  UncontrolledButtonDropdown,\n  DropdownToggle,\n  DropdownMenu,\n  DropdownItem,\n  ButtonGroup,\n  Button,\n  InputGroup,\n  InputGroupAddon,\n  Input,\n} from 'reactstrap';\n\nimport { FileUpload } from '../../fileuploader/index.js';\nimport { exportJson } from '../../annotator/exporter.js';\n\nclass Menus extends React.Component {\n  render() {\n    return (\n      <ButtonGroup\n        size={buttonGroup.size}\n        vertical={buttonGroup.vertical}\n        style={buttonGroup}\n      >\n        <UncontrolledButtonDropdown>\n          <DropdownToggle caret color=\"primary\">\n            File\n          </DropdownToggle>\n          <DropdownMenu>\n            <DropdownItem>\n              <Button\n                outline\n                color=\"primary\"\n                className=\"export-btn\"\n                onClick={exportJson}\n              >\n                {' '}\n                Export Annotations{' '}\n              </Button>\n            </DropdownItem>\n          </DropdownMenu>\n        </UncontrolledButtonDropdown>\n\n        <UncontrolledButtonDropdown>\n          <DropdownToggle caret color=\"primary\">\n            Draw\n          </DropdownToggle>\n          <DropdownMenu>\n            <UncontrolledButtonDropdown>\n              <DropdownToggle caret color=\"none\">\n                Rectangle\n              </DropdownToggle>\n              <DropdownMenu>\n                <InputGroup>\n                  <Input placeholder=\"username\" />\n                  <InputGroupAddon addonType=\"append\">\n                    <Button>Add a new annotation class (Rect)</Button>\n                  </InputGroupAddon>\n                </InputGroup>\n                <Button outline color=\"primary\">\n                  {' '}\n                  Annotation Class 1{' '}\n                </Button>\n                <Button outline color=\"primary\">\n                  {' '}\n                  Annotation Class 2{' '}\n                </Button>\n                <Button outline color=\"primary\">\n                  {' '}\n                  Annotation Class 3{' '}\n                </Button>\n                <Button outline color=\"primary\">\n                  {' '}\n                  Annotation Class 4{' '}\n                </Button>\n              </DropdownMenu>\n            </UncontrolledButtonDropdown>\n\n            <UncontrolledButtonDropdown>\n              <DropdownToggle caret color=\"none\">\n                Freehand\n              </DropdownToggle>\n              <DropdownMenu>\n                <InputGroup>\n                  <Input placeholder=\"username\" />\n                  <InputGroupAddon addonType=\"append\">\n                    <Button>Add a new annotation class(Free)</Button>\n                  </InputGroupAddon>\n                </InputGroup>\n                <Button outline color=\"primary\">\n                  {' '}\n                  Annotation Class 1{' '}\n                </Button>\n                <Button outline color=\"primary\">\n                  {' '}\n                  Annotation Class 2{' '}\n                </Button>\n                <Button outline color=\"primary\">\n                  {' '}\n                  Annotation Class 3{' '}\n                </Button>\n                <Button outline color=\"primary\">\n                  {' '}\n                  Annotation Class 4{' '}\n                </Button>\n              </DropdownMenu>\n            </UncontrolledButtonDropdown>\n          </DropdownMenu>\n        </UncontrolledButtonDropdown>\n\n        <UncontrolledButtonDropdown>\n          <DropdownToggle caret color=\"primary\">\n            Edit\n          </DropdownToggle>\n          <DropdownMenu>\n            <DropdownItem disabled> 1 </DropdownItem>\n            <DropdownItem> 2 </DropdownItem>\n          </DropdownMenu>\n        </UncontrolledButtonDropdown>\n\n        <Button outline color=\"primary\" className=\"import-btn\">\n          {' '}\n          <FileUpload name=\"Import File\" />{' '}\n        </Button>\n      </ButtonGroup>\n    );\n  }\n}\n\nexport default Menus;\n","import React from 'react';\nimport { FileUpload } from '../fileuploader/index.js';\nimport { fileApi } from '../fileuploader/fileStore.js';\nimport { annotApi } from '../annotator/annotStore.js';\nimport { exportJson } from '../annotator/exporter.js';\nimport { Button } from 'reactstrap';\n\nclass Annotator extends React.Component {\n  file_size = 0;\n  annotations = {};\n\n  render() {\n    fileApi.subscribe(state => {\n      if (this.file_size !== state.size) {\n        this.file_size = state.size;\n\n        console.log('fileApi - files: ', state.file);\n      }\n    });\n    annotApi.subscribe(state => {\n      if (this.annotations !== state.annotations) {\n        this.annotations = state.annotations;\n\n        console.log('annotApi - annotations: ', state.annotations);\n      }\n    });\n    // return (\n    //   <div>\n    //     <div>\n    //       <Button outline color=\"primary\" className=\"import-btn\"> <FileUpload name=\"Import\" />  </Button>\n    //     </div>\n    //     <div>\n    //       <Button outline color=\"primary\" className=\"export-btn\" onClick={exportJson} > Export  </Button>\n    //     </div>\n    //   </div>\n    // );\n    return <div id=\"annotator-div\"></div>;\n  }\n}\n\nexport default Annotator;\n","import React from 'react';\nimport { mainStyle, rowStyle, container } from './style.js';\nimport MainViewer from './components/mainViewer.js';\nimport AxesViewer from './components/axesViewer.js';\nimport AnnotatorViewer from './components/annotatorViewer.js';\nimport Thumbnails from './components/thumbnails.js';\nimport Menus from './components/menus.js';\nimport Annotator from './../annotator/index.js';\n\nimport { Container, Row, Col } from 'reactstrap';\n\nclass UI extends React.Component {\n  render() {\n    return (\n      <div className=\"main\" style={mainStyle}>\n        <Menus />\n        <br></br>\n        <br></br>\n        <br></br>\n\n        <Container style={container}>\n          <Row style={rowStyle}>\n            <Col xs=\"3\">\n              <AxesViewer />\n            </Col>\n\n            <Col xs=\"6\">\n              <MainViewer />\n            </Col>\n\n            <Col xs=\"3\">\n              <AnnotatorViewer />\n              <Thumbnails />\n            </Col>\n          </Row>\n        </Container>\n        <Annotator />\n      </div>\n    );\n  }\n}\n\nexport default UI;\n","import './styles.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport UI from './ui';\n\nfunction Application() {\n  return (\n    <>\n      <UI />\n    </>\n  );\n}\n\nconst rootElement = document.getElementById('root');\nReactDOM.render(<Application />, rootElement);\n"],"sourceRoot":""}